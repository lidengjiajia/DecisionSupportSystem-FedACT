实验: Xinwang_quantity_skew_sign_flip_Krum_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-25 01:46:55
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity quantity_skew --enable_attack True --attack_mode sign_flip --malicious_ratio 0.3 --defense_mode krum --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: quantity_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: sign_flip
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: krum
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 6.651234149932861
------------------------- time cost ------------------------- 5.581685543060303
------------------------- time cost ------------------------- 5.752800703048706
------------------------- time cost ------------------------- 5.506632089614868
------------------------- time cost ------------------------- 5.530054092407227
------------------------- time cost ------------------------- 5.544230222702026
------------------------- time cost ------------------------- 5.506069660186768
------------------------- time cost ------------------------- 5.595988512039185
------------------------- time cost ------------------------- 5.524146556854248
------------------------- time cost ------------------------- 5.478646278381348

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3491
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5830
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1515
------------------------- time cost ------------------------- 6.516043186187744
------------------------- time cost ------------------------- 5.713265419006348
------------------------- time cost ------------------------- 5.459450960159302
------------------------- time cost ------------------------- 5.432736873626709
------------------------- time cost ------------------------- 5.648012638092041
------------------------- time cost ------------------------- 5.563197612762451
------------------------- time cost ------------------------- 5.572950839996338
------------------------- time cost ------------------------- 5.580150127410889
------------------------- time cost ------------------------- 5.550914525985718
------------------------- time cost ------------------------- 5.438799858093262

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3391
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5959
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1126
------------------------- time cost ------------------------- 6.300957441329956
------------------------- time cost ------------------------- 5.6258039474487305
------------------------- time cost ------------------------- 5.624300241470337
------------------------- time cost ------------------------- 5.4216132164001465
------------------------- time cost ------------------------- 5.541984796524048
------------------------- time cost ------------------------- 5.444312572479248
------------------------- time cost ------------------------- 5.4916839599609375
------------------------- time cost ------------------------- 5.572995662689209
------------------------- time cost ------------------------- 5.518568754196167
------------------------- time cost ------------------------- 5.514797925949097

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3341
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6584
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0668
------------------------- time cost ------------------------- 6.271993637084961
------------------------- time cost ------------------------- 5.514816045761108
------------------------- time cost ------------------------- 5.660790205001831
------------------------- time cost ------------------------- 5.444818735122681
------------------------- time cost ------------------------- 5.595858097076416
------------------------- time cost ------------------------- 5.52409815788269
------------------------- time cost ------------------------- 5.460168361663818
------------------------- time cost ------------------------- 5.530986070632935
------------------------- time cost ------------------------- 5.511070251464844
------------------------- time cost ------------------------- 5.697088718414307

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3354
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6908
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0593
------------------------- time cost ------------------------- 6.5517189502716064
------------------------- time cost ------------------------- 5.652551651000977
------------------------- time cost ------------------------- 5.531848430633545
------------------------- time cost ------------------------- 5.610794305801392
------------------------- time cost ------------------------- 5.463262557983398
------------------------- time cost ------------------------- 5.401738166809082
------------------------- time cost ------------------------- 5.446596384048462
------------------------- time cost ------------------------- 5.538881301879883
------------------------- time cost ------------------------- 5.446466445922852
------------------------- time cost ------------------------- 5.540900230407715

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3358
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7272
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0645
------------------------- time cost ------------------------- 6.346773386001587
------------------------- time cost ------------------------- 5.68154239654541
------------------------- time cost ------------------------- 5.510133504867554
------------------------- time cost ------------------------- 5.477745294570923
------------------------- time cost ------------------------- 5.589733600616455
------------------------- time cost ------------------------- 5.549839019775391
------------------------- time cost ------------------------- 5.56380558013916
------------------------- time cost ------------------------- 5.514297723770142
------------------------- time cost ------------------------- 5.4408042430877686
------------------------- time cost ------------------------- 5.558996677398682

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3360
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7501
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0668
------------------------- time cost ------------------------- 6.2396392822265625
------------------------- time cost ------------------------- 5.586421728134155
------------------------- time cost ------------------------- 5.47080659866333
------------------------- time cost ------------------------- 5.513065814971924
------------------------- time cost ------------------------- 5.509701728820801
------------------------- time cost ------------------------- 5.710864067077637
------------------------- time cost ------------------------- 5.487406015396118
------------------------- time cost ------------------------- 5.630274295806885
------------------------- time cost ------------------------- 5.480288505554199
------------------------- time cost ------------------------- 5.527890682220459

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3367
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7774
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0649
------------------------- time cost ------------------------- 6.2823052406311035
------------------------- time cost ------------------------- 5.622968673706055
------------------------- time cost ------------------------- 5.489118576049805
------------------------- time cost ------------------------- 5.4003355503082275
------------------------- time cost ------------------------- 5.732957363128662
------------------------- time cost ------------------------- 5.655555486679077
------------------------- time cost ------------------------- 5.606543779373169
------------------------- time cost ------------------------- 5.601289987564087
------------------------- time cost ------------------------- 5.542235612869263
------------------------- time cost ------------------------- 5.630329370498657

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3356
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7832
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0605
------------------------- time cost ------------------------- 6.453056573867798
------------------------- time cost ------------------------- 5.955852746963501
------------------------- time cost ------------------------- 5.363659858703613
------------------------- time cost ------------------------- 5.797978401184082
------------------------- time cost ------------------------- 5.479881048202515
------------------------- time cost ------------------------- 5.480339765548706
------------------------- time cost ------------------------- 5.605666637420654
------------------------- time cost ------------------------- 5.627745151519775
------------------------- time cost ------------------------- 5.420160293579102
------------------------- time cost ------------------------- 5.602336168289185

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3358
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8044
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0696
------------------------- time cost ------------------------- 6.438934803009033
------------------------- time cost ------------------------- 5.65321946144104
------------------------- time cost ------------------------- 5.542201519012451
------------------------- time cost ------------------------- 5.81244158744812
------------------------- time cost ------------------------- 5.637545824050903
------------------------- time cost ------------------------- 5.436446189880371
------------------------- time cost ------------------------- 5.527270555496216
------------------------- time cost ------------------------- 5.66748571395874
------------------------- time cost ------------------------- 5.669246673583984
------------------------- time cost ------------------------- 5.639375925064087

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3328
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8174
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0620
------------------------- time cost ------------------------- 6.3394060134887695

Best accuracy.
0.9147651006711409

Average time cost per round.
5.640531616210938
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 571.95秒
