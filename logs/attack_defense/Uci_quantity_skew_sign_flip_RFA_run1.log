实验: Uci_quantity_skew_sign_flip_RFA_run1
物理GPU ID: 3
CUDA_VISIBLE_DEVICES: 3
时间: 2026-01-24 22:32:35
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity quantity_skew --enable_attack True --attack_mode sign_flip --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=3
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: quantity_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: sign_flip
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.408440828323364
------------------------- time cost ------------------------- 6.144516706466675
------------------------- time cost ------------------------- 6.251699924468994
------------------------- time cost ------------------------- 6.43743371963501
------------------------- time cost ------------------------- 6.507601022720337
------------------------- time cost ------------------------- 6.348804712295532
------------------------- time cost ------------------------- 6.311627626419067
------------------------- time cost ------------------------- 6.386823892593384
------------------------- time cost ------------------------- 6.326925992965698
------------------------- time cost ------------------------- 6.272972106933594

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4952
Averaged Test Accuracy: 0.7415
Averaged Test AUC: 0.7415
Averaged Test Precision: 0.7298
Averaged Test Recall: 0.7415
Averaged Test F1-Score: 0.6491
Std Test Accuracy: 0.1017
Std Test AUC: 0.0623
------------------------- time cost ------------------------- 7.308310508728027
------------------------- time cost ------------------------- 6.285770893096924
------------------------- time cost ------------------------- 6.261544704437256
------------------------- time cost ------------------------- 6.216273069381714
------------------------- time cost ------------------------- 6.390218257904053
------------------------- time cost ------------------------- 6.461258888244629
------------------------- time cost ------------------------- 6.433638095855713
------------------------- time cost ------------------------- 6.413422107696533
------------------------- time cost ------------------------- 6.330327272415161
------------------------- time cost ------------------------- 6.167554140090942

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4758
Averaged Test Accuracy: 0.7757
Averaged Test AUC: 0.7545
Averaged Test Precision: 0.7755
Averaged Test Recall: 0.7757
Averaged Test F1-Score: 0.7370
Std Test Accuracy: 0.0828
Std Test AUC: 0.0613
------------------------- time cost ------------------------- 7.319851636886597
------------------------- time cost ------------------------- 6.259645700454712
------------------------- time cost ------------------------- 6.273473501205444
------------------------- time cost ------------------------- 6.2373411655426025
------------------------- time cost ------------------------- 6.315455436706543
------------------------- time cost ------------------------- 6.445356369018555
------------------------- time cost ------------------------- 6.304385423660278
------------------------- time cost ------------------------- 6.5139923095703125
------------------------- time cost ------------------------- 6.399261474609375
------------------------- time cost ------------------------- 6.382593631744385

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4702
Averaged Test Accuracy: 0.7791
Averaged Test AUC: 0.7617
Averaged Test Precision: 0.7744
Averaged Test Recall: 0.7791
Averaged Test F1-Score: 0.7471
Std Test Accuracy: 0.0783
Std Test AUC: 0.0591
------------------------- time cost ------------------------- 7.386178493499756
------------------------- time cost ------------------------- 6.309032440185547
------------------------- time cost ------------------------- 6.33826756477356
------------------------- time cost ------------------------- 6.3999903202056885
------------------------- time cost ------------------------- 6.329394102096558
------------------------- time cost ------------------------- 6.4747936725616455
------------------------- time cost ------------------------- 6.380716562271118
------------------------- time cost ------------------------- 6.369262933731079
------------------------- time cost ------------------------- 6.388242721557617
------------------------- time cost ------------------------- 6.358731031417847

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4677
Averaged Test Accuracy: 0.7876
Averaged Test AUC: 0.7646
Averaged Test Precision: 0.7802
Averaged Test Recall: 0.7876
Averaged Test F1-Score: 0.7625
Std Test Accuracy: 0.0673
Std Test AUC: 0.0581
------------------------- time cost ------------------------- 7.543711185455322
------------------------- time cost ------------------------- 6.348996877670288
------------------------- time cost ------------------------- 6.333370685577393
------------------------- time cost ------------------------- 6.308995008468628
------------------------- time cost ------------------------- 6.290502548217773
------------------------- time cost ------------------------- 6.40226149559021
------------------------- time cost ------------------------- 6.3414459228515625
------------------------- time cost ------------------------- 6.321002960205078
------------------------- time cost ------------------------- 6.293827533721924
------------------------- time cost ------------------------- 6.478294134140015

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4682
Averaged Test Accuracy: 0.7821
Averaged Test AUC: 0.7672
Averaged Test Precision: 0.7767
Averaged Test Recall: 0.7821
Averaged Test F1-Score: 0.7544
Std Test Accuracy: 0.0751
Std Test AUC: 0.0569
------------------------- time cost ------------------------- 7.433551549911499
------------------------- time cost ------------------------- 6.32508397102356
------------------------- time cost ------------------------- 6.222946643829346
------------------------- time cost ------------------------- 6.189007759094238
------------------------- time cost ------------------------- 6.228549242019653
------------------------- time cost ------------------------- 6.409775018692017
------------------------- time cost ------------------------- 6.217133283615112
------------------------- time cost ------------------------- 6.391124248504639
------------------------- time cost ------------------------- 6.274209022521973
------------------------- time cost ------------------------- 6.42149019241333

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4683
Averaged Test Accuracy: 0.7859
Averaged Test AUC: 0.7685
Averaged Test Precision: 0.7791
Averaged Test Recall: 0.7859
Averaged Test F1-Score: 0.7598
Std Test Accuracy: 0.0677
Std Test AUC: 0.0558
------------------------- time cost ------------------------- 7.420540809631348
------------------------- time cost ------------------------- 6.3087592124938965
------------------------- time cost ------------------------- 6.314867258071899
------------------------- time cost ------------------------- 6.141725063323975
------------------------- time cost ------------------------- 6.298137187957764
------------------------- time cost ------------------------- 6.384087085723877
------------------------- time cost ------------------------- 6.296285390853882
------------------------- time cost ------------------------- 6.377317428588867
------------------------- time cost ------------------------- 6.415585517883301
------------------------- time cost ------------------------- 6.329587936401367

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4669
Averaged Test Accuracy: 0.7863
Averaged Test AUC: 0.7701
Averaged Test Precision: 0.7794
Averaged Test Recall: 0.7863
Averaged Test F1-Score: 0.7629
Std Test Accuracy: 0.0665
Std Test AUC: 0.0549
------------------------- time cost ------------------------- 7.237233877182007
------------------------- time cost ------------------------- 6.261152267456055
------------------------- time cost ------------------------- 6.300106525421143
------------------------- time cost ------------------------- 6.337796926498413
------------------------- time cost ------------------------- 6.435948610305786
------------------------- time cost ------------------------- 6.274964332580566
------------------------- time cost ------------------------- 6.310439825057983
------------------------- time cost ------------------------- 6.399529218673706
------------------------- time cost ------------------------- 6.266069173812866
------------------------- time cost ------------------------- 6.331700086593628

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4668
Averaged Test Accuracy: 0.7863
Averaged Test AUC: 0.7716
Averaged Test Precision: 0.7812
Averaged Test Recall: 0.7863
Averaged Test F1-Score: 0.7601
Std Test Accuracy: 0.0694
Std Test AUC: 0.0533
------------------------- time cost ------------------------- 7.316985130310059
------------------------- time cost ------------------------- 6.3311567306518555
------------------------- time cost ------------------------- 6.361698865890503
------------------------- time cost ------------------------- 6.2827136516571045
------------------------- time cost ------------------------- 6.3605077266693115
------------------------- time cost ------------------------- 6.400738954544067
------------------------- time cost ------------------------- 6.480013847351074
------------------------- time cost ------------------------- 6.214707374572754
------------------------- time cost ------------------------- 6.5297205448150635
------------------------- time cost ------------------------- 6.4192118644714355

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4647
Averaged Test Accuracy: 0.7872
Averaged Test AUC: 0.7729
Averaged Test Precision: 0.7820
Averaged Test Recall: 0.7872
Averaged Test F1-Score: 0.7636
Std Test Accuracy: 0.0684
Std Test AUC: 0.0523
------------------------- time cost ------------------------- 7.37954568862915
------------------------- time cost ------------------------- 6.2593913078308105
------------------------- time cost ------------------------- 5.867871999740601
------------------------- time cost ------------------------- 5.825433015823364
------------------------- time cost ------------------------- 5.92282772064209
------------------------- time cost ------------------------- 6.526277303695679
------------------------- time cost ------------------------- 6.2821362018585205
------------------------- time cost ------------------------- 6.345766305923462
------------------------- time cost ------------------------- 6.6477272510528564
------------------------- time cost ------------------------- 6.299506425857544

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4663
Averaged Test Accuracy: 0.7835
Averaged Test AUC: 0.7732
Averaged Test Precision: 0.7789
Averaged Test Recall: 0.7835
Averaged Test F1-Score: 0.7589
Std Test Accuracy: 0.0694
Std Test AUC: 0.0520
------------------------- time cost ------------------------- 7.31748628616333

Best accuracy.
0.7876

Average time cost per round.
6.4303122735023495
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 651.77秒
