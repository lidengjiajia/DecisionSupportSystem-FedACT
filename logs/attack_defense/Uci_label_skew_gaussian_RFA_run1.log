实验: Uci_label_skew_gaussian_RFA_run1
物理GPU ID: 0
CUDA_VISIBLE_DEVICES: 0
时间: 2026-01-24 21:48:30
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity label_skew --enable_attack True --attack_mode gaussian --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=0
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: label_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: gaussian
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.604573965072632
------------------------- time cost ------------------------- 6.490656137466431
------------------------- time cost ------------------------- 6.561120510101318
------------------------- time cost ------------------------- 6.331422805786133
------------------------- time cost ------------------------- 6.519298553466797
------------------------- time cost ------------------------- 6.430364370346069
------------------------- time cost ------------------------- 6.453217267990112
------------------------- time cost ------------------------- 6.451264142990112
------------------------- time cost ------------------------- 6.489948511123657
------------------------- time cost ------------------------- 6.487815856933594

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4953
Averaged Test Accuracy: 0.7411
Averaged Test AUC: 0.7427
Averaged Test Precision: 0.7463
Averaged Test Recall: 0.7411
Averaged Test F1-Score: 0.6486
Std Test Accuracy: 0.1011
Std Test AUC: 0.0610
------------------------- time cost ------------------------- 7.328251123428345
------------------------- time cost ------------------------- 6.492832660675049
------------------------- time cost ------------------------- 6.4722068309783936
------------------------- time cost ------------------------- 6.30300498008728
------------------------- time cost ------------------------- 6.397231578826904
------------------------- time cost ------------------------- 6.452015399932861
------------------------- time cost ------------------------- 6.42627739906311
------------------------- time cost ------------------------- 6.3711066246032715
------------------------- time cost ------------------------- 6.422065496444702
------------------------- time cost ------------------------- 6.452609062194824

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4747
Averaged Test Accuracy: 0.7751
Averaged Test AUC: 0.7553
Averaged Test Precision: 0.7742
Averaged Test Recall: 0.7751
Averaged Test F1-Score: 0.7364
Std Test Accuracy: 0.0855
Std Test AUC: 0.0604
------------------------- time cost ------------------------- 7.438220024108887
------------------------- time cost ------------------------- 6.538471221923828
------------------------- time cost ------------------------- 6.500049829483032
------------------------- time cost ------------------------- 6.3856706619262695
------------------------- time cost ------------------------- 6.278599739074707
------------------------- time cost ------------------------- 6.608283758163452
------------------------- time cost ------------------------- 6.395479679107666
------------------------- time cost ------------------------- 6.396634817123413
------------------------- time cost ------------------------- 6.378935098648071
------------------------- time cost ------------------------- 6.389793395996094

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4704
Averaged Test Accuracy: 0.7807
Averaged Test AUC: 0.7615
Averaged Test Precision: 0.7747
Averaged Test Recall: 0.7807
Averaged Test F1-Score: 0.7498
Std Test Accuracy: 0.0772
Std Test AUC: 0.0594
------------------------- time cost ------------------------- 7.333451509475708
------------------------- time cost ------------------------- 6.4132044315338135
------------------------- time cost ------------------------- 6.468839645385742
------------------------- time cost ------------------------- 6.371716022491455
------------------------- time cost ------------------------- 6.478823184967041
------------------------- time cost ------------------------- 6.274902105331421
------------------------- time cost ------------------------- 6.6419525146484375
------------------------- time cost ------------------------- 6.354205131530762
------------------------- time cost ------------------------- 6.3170390129089355
------------------------- time cost ------------------------- 6.392403841018677

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4673
Averaged Test Accuracy: 0.7879
Averaged Test AUC: 0.7652
Averaged Test Precision: 0.7807
Averaged Test Recall: 0.7879
Averaged Test F1-Score: 0.7626
Std Test Accuracy: 0.0691
Std Test AUC: 0.0576
------------------------- time cost ------------------------- 7.5510687828063965
------------------------- time cost ------------------------- 6.385297536849976
------------------------- time cost ------------------------- 6.358425855636597
------------------------- time cost ------------------------- 6.375447511672974
------------------------- time cost ------------------------- 6.470510005950928
------------------------- time cost ------------------------- 6.48899245262146
------------------------- time cost ------------------------- 6.509667873382568
------------------------- time cost ------------------------- 6.43943452835083
------------------------- time cost ------------------------- 6.426970481872559
------------------------- time cost ------------------------- 6.325820684432983

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4695
Averaged Test Accuracy: 0.7804
Averaged Test AUC: 0.7679
Averaged Test Precision: 0.7771
Averaged Test Recall: 0.7804
Averaged Test F1-Score: 0.7507
Std Test Accuracy: 0.0771
Std Test AUC: 0.0557
------------------------- time cost ------------------------- 7.4569830894470215
------------------------- time cost ------------------------- 6.3768534660339355
------------------------- time cost ------------------------- 6.396105766296387
------------------------- time cost ------------------------- 6.3090856075286865
------------------------- time cost ------------------------- 6.2238123416900635
------------------------- time cost ------------------------- 6.356826305389404
------------------------- time cost ------------------------- 6.513811826705933
------------------------- time cost ------------------------- 6.604723691940308
------------------------- time cost ------------------------- 6.478774785995483
------------------------- time cost ------------------------- 6.366960048675537

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4674
Averaged Test Accuracy: 0.7868
Averaged Test AUC: 0.7690
Averaged Test Precision: 0.7796
Averaged Test Recall: 0.7868
Averaged Test F1-Score: 0.7613
Std Test Accuracy: 0.0677
Std Test AUC: 0.0559
------------------------- time cost ------------------------- 7.476609945297241
------------------------- time cost ------------------------- 6.487496614456177
------------------------- time cost ------------------------- 6.358965635299683
------------------------- time cost ------------------------- 6.466924428939819
------------------------- time cost ------------------------- 6.352485656738281
------------------------- time cost ------------------------- 6.333916425704956
------------------------- time cost ------------------------- 6.355172395706177
------------------------- time cost ------------------------- 6.525906324386597
------------------------- time cost ------------------------- 6.4884865283966064
------------------------- time cost ------------------------- 6.303286790847778

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4691
Averaged Test Accuracy: 0.7843
Averaged Test AUC: 0.7706
Averaged Test Precision: 0.7787
Averaged Test Recall: 0.7843
Averaged Test F1-Score: 0.7579
Std Test Accuracy: 0.0690
Std Test AUC: 0.0540
------------------------- time cost ------------------------- 7.568852424621582
------------------------- time cost ------------------------- 6.444311141967773
------------------------- time cost ------------------------- 6.341572523117065
------------------------- time cost ------------------------- 6.322554349899292
------------------------- time cost ------------------------- 6.291730165481567
------------------------- time cost ------------------------- 6.359804391860962
------------------------- time cost ------------------------- 6.479959487915039
------------------------- time cost ------------------------- 6.4353179931640625
------------------------- time cost ------------------------- 6.626645565032959
------------------------- time cost ------------------------- 6.416754961013794

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4669
Averaged Test Accuracy: 0.7883
Averaged Test AUC: 0.7714
Averaged Test Precision: 0.7823
Averaged Test Recall: 0.7883
Averaged Test F1-Score: 0.7644
Std Test Accuracy: 0.0659
Std Test AUC: 0.0535
------------------------- time cost ------------------------- 7.507798671722412
------------------------- time cost ------------------------- 6.465317487716675
------------------------- time cost ------------------------- 6.313027381896973
------------------------- time cost ------------------------- 6.4831767082214355
------------------------- time cost ------------------------- 6.424800157546997
------------------------- time cost ------------------------- 6.34908652305603
------------------------- time cost ------------------------- 6.383590936660767
------------------------- time cost ------------------------- 6.366344451904297
------------------------- time cost ------------------------- 6.590909242630005
------------------------- time cost ------------------------- 6.335317850112915

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4669
Averaged Test Accuracy: 0.7856
Averaged Test AUC: 0.7715
Averaged Test Precision: 0.7794
Averaged Test Recall: 0.7856
Averaged Test F1-Score: 0.7630
Std Test Accuracy: 0.0661
Std Test AUC: 0.0540
------------------------- time cost ------------------------- 7.6032874584198
------------------------- time cost ------------------------- 6.456049680709839
------------------------- time cost ------------------------- 6.394098997116089
------------------------- time cost ------------------------- 6.460314035415649
------------------------- time cost ------------------------- 5.992305278778076
------------------------- time cost ------------------------- 6.465843915939331
------------------------- time cost ------------------------- 6.369430780410767
------------------------- time cost ------------------------- 6.378103256225586
------------------------- time cost ------------------------- 6.170090436935425
------------------------- time cost ------------------------- 6.795586585998535

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4672
Averaged Test Accuracy: 0.7808
Averaged Test AUC: 0.7723
Averaged Test Precision: 0.7790
Averaged Test Recall: 0.7808
Averaged Test F1-Score: 0.7538
Std Test Accuracy: 0.0738
Std Test AUC: 0.0532
------------------------- time cost ------------------------- 7.6427001953125

Best accuracy.
0.7882666666666667

Average time cost per round.
6.52488891363144
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 661.36秒
