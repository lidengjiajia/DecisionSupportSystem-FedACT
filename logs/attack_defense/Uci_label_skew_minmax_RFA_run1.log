实验: Uci_label_skew_minmax_RFA_run1
物理GPU ID: 0
CUDA_VISIBLE_DEVICES: 0
时间: 2026-01-24 22:10:24
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity label_skew --enable_attack True --attack_mode minmax --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=0
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: label_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: minmax
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.485932111740112
------------------------- time cost ------------------------- 6.265476226806641
------------------------- time cost ------------------------- 6.381541013717651
------------------------- time cost ------------------------- 6.317662715911865
------------------------- time cost ------------------------- 6.524662971496582
------------------------- time cost ------------------------- 6.331488609313965
------------------------- time cost ------------------------- 6.399045705795288
------------------------- time cost ------------------------- 6.288677453994751
------------------------- time cost ------------------------- 6.5422203540802
------------------------- time cost ------------------------- 6.298321723937988

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4960
Averaged Test Accuracy: 0.7399
Averaged Test AUC: 0.7416
Averaged Test Precision: 0.7119
Averaged Test Recall: 0.7399
Averaged Test F1-Score: 0.6442
Std Test Accuracy: 0.1011
Std Test AUC: 0.0620
------------------------- time cost ------------------------- 7.287654399871826
------------------------- time cost ------------------------- 6.481653213500977
------------------------- time cost ------------------------- 6.48383641242981
------------------------- time cost ------------------------- 6.275163650512695
------------------------- time cost ------------------------- 6.337926149368286
------------------------- time cost ------------------------- 6.529676675796509
------------------------- time cost ------------------------- 6.337425947189331
------------------------- time cost ------------------------- 6.357609748840332
------------------------- time cost ------------------------- 6.361717700958252
------------------------- time cost ------------------------- 6.2441465854644775

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4749
Averaged Test Accuracy: 0.7755
Averaged Test AUC: 0.7551
Averaged Test Precision: 0.7734
Averaged Test Recall: 0.7755
Averaged Test F1-Score: 0.7374
Std Test Accuracy: 0.0844
Std Test AUC: 0.0604
------------------------- time cost ------------------------- 7.380724906921387
------------------------- time cost ------------------------- 6.337690830230713
------------------------- time cost ------------------------- 6.330753326416016
------------------------- time cost ------------------------- 6.365702867507935
------------------------- time cost ------------------------- 6.267307996749878
------------------------- time cost ------------------------- 6.552615404129028
------------------------- time cost ------------------------- 6.329558849334717
------------------------- time cost ------------------------- 6.3740880489349365
------------------------- time cost ------------------------- 6.4216907024383545
------------------------- time cost ------------------------- 6.3585827350616455

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4713
Averaged Test Accuracy: 0.7800
Averaged Test AUC: 0.7613
Averaged Test Precision: 0.7755
Averaged Test Recall: 0.7800
Averaged Test F1-Score: 0.7481
Std Test Accuracy: 0.0780
Std Test AUC: 0.0594
------------------------- time cost ------------------------- 7.387485027313232
------------------------- time cost ------------------------- 6.383451700210571
------------------------- time cost ------------------------- 6.377701044082642
------------------------- time cost ------------------------- 6.334776401519775
------------------------- time cost ------------------------- 6.220909357070923
------------------------- time cost ------------------------- 6.374191045761108
------------------------- time cost ------------------------- 6.620741128921509
------------------------- time cost ------------------------- 6.282359600067139
------------------------- time cost ------------------------- 6.408283472061157
------------------------- time cost ------------------------- 6.39180064201355

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4707
Averaged Test Accuracy: 0.7753
Averaged Test AUC: 0.7647
Averaged Test Precision: 0.7732
Averaged Test Recall: 0.7753
Averaged Test F1-Score: 0.7415
Std Test Accuracy: 0.0815
Std Test AUC: 0.0589
------------------------- time cost ------------------------- 7.460785865783691
------------------------- time cost ------------------------- 6.46660304069519
------------------------- time cost ------------------------- 6.348176002502441
------------------------- time cost ------------------------- 6.375784635543823
------------------------- time cost ------------------------- 6.2306225299835205
------------------------- time cost ------------------------- 6.367596626281738
------------------------- time cost ------------------------- 6.353575944900513
------------------------- time cost ------------------------- 6.3100786209106445
------------------------- time cost ------------------------- 6.4323108196258545
------------------------- time cost ------------------------- 6.2539002895355225

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4678
Averaged Test Accuracy: 0.7840
Averaged Test AUC: 0.7677
Averaged Test Precision: 0.7793
Averaged Test Recall: 0.7840
Averaged Test F1-Score: 0.7558
Std Test Accuracy: 0.0718
Std Test AUC: 0.0565
------------------------- time cost ------------------------- 7.362842082977295
------------------------- time cost ------------------------- 6.384195566177368
------------------------- time cost ------------------------- 6.277376413345337
------------------------- time cost ------------------------- 6.4247822761535645
------------------------- time cost ------------------------- 6.281745195388794
------------------------- time cost ------------------------- 6.31541633605957
------------------------- time cost ------------------------- 6.336327075958252
------------------------- time cost ------------------------- 6.467010259628296
------------------------- time cost ------------------------- 6.488800287246704
------------------------- time cost ------------------------- 6.391568183898926

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4679
Averaged Test Accuracy: 0.7809
Averaged Test AUC: 0.7689
Averaged Test Precision: 0.7790
Averaged Test Recall: 0.7809
Averaged Test F1-Score: 0.7503
Std Test Accuracy: 0.0767
Std Test AUC: 0.0546
------------------------- time cost ------------------------- 7.421538829803467
------------------------- time cost ------------------------- 6.442557096481323
------------------------- time cost ------------------------- 6.423227787017822
------------------------- time cost ------------------------- 6.372313737869263
------------------------- time cost ------------------------- 6.294350624084473
------------------------- time cost ------------------------- 6.275958299636841
------------------------- time cost ------------------------- 6.3138346672058105
------------------------- time cost ------------------------- 6.450337886810303
------------------------- time cost ------------------------- 6.419908285140991
------------------------- time cost ------------------------- 6.288367748260498

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4690
Averaged Test Accuracy: 0.7808
Averaged Test AUC: 0.7704
Averaged Test Precision: 0.7786
Averaged Test Recall: 0.7808
Averaged Test F1-Score: 0.7512
Std Test Accuracy: 0.0745
Std Test AUC: 0.0538
------------------------- time cost ------------------------- 7.393818378448486
------------------------- time cost ------------------------- 6.459544658660889
------------------------- time cost ------------------------- 6.374850273132324
------------------------- time cost ------------------------- 6.415175676345825
------------------------- time cost ------------------------- 6.301253080368042
------------------------- time cost ------------------------- 6.328192710876465
------------------------- time cost ------------------------- 6.2912514209747314
------------------------- time cost ------------------------- 6.274624586105347
------------------------- time cost ------------------------- 6.624809265136719
------------------------- time cost ------------------------- 6.279320478439331

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4678
Averaged Test Accuracy: 0.7819
Averaged Test AUC: 0.7711
Averaged Test Precision: 0.7784
Averaged Test Recall: 0.7819
Averaged Test F1-Score: 0.7543
Std Test Accuracy: 0.0724
Std Test AUC: 0.0536
------------------------- time cost ------------------------- 7.271177291870117
------------------------- time cost ------------------------- 6.433293342590332
------------------------- time cost ------------------------- 6.4481728076934814
------------------------- time cost ------------------------- 6.487035036087036
------------------------- time cost ------------------------- 6.3524580001831055
------------------------- time cost ------------------------- 6.357516527175903
------------------------- time cost ------------------------- 6.339355230331421
------------------------- time cost ------------------------- 6.399567604064941
------------------------- time cost ------------------------- 6.552396297454834
------------------------- time cost ------------------------- 6.277381896972656

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4658
Averaged Test Accuracy: 0.7868
Averaged Test AUC: 0.7721
Averaged Test Precision: 0.7814
Averaged Test Recall: 0.7868
Averaged Test F1-Score: 0.7626
Std Test Accuracy: 0.0681
Std Test AUC: 0.0531
------------------------- time cost ------------------------- 7.285887718200684
------------------------- time cost ------------------------- 6.423264741897583
------------------------- time cost ------------------------- 6.483879327774048
------------------------- time cost ------------------------- 6.2499823570251465
------------------------- time cost ------------------------- 6.5663676261901855
------------------------- time cost ------------------------- 6.322768926620483
------------------------- time cost ------------------------- 6.36015510559082
------------------------- time cost ------------------------- 6.2967071533203125
------------------------- time cost ------------------------- 5.916540622711182
------------------------- time cost ------------------------- 6.020918607711792

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4670
Averaged Test Accuracy: 0.7811
Averaged Test AUC: 0.7728
Averaged Test Precision: 0.7788
Averaged Test Recall: 0.7811
Averaged Test F1-Score: 0.7531
Std Test Accuracy: 0.0754
Std Test AUC: 0.0520
------------------------- time cost ------------------------- 7.679523229598999

Best accuracy.
0.7868

Average time cost per round.
6.468454053401947
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 655.69秒
