实验: Uci_feature_skew_minmax_TrimmedMean_run1
物理GPU ID: 3
CUDA_VISIBLE_DEVICES: 3
时间: 2026-01-24 23:49:19
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity feature_skew --enable_attack True --attack_mode minmax --malicious_ratio 0.3 --defense_mode trimmed_mean --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=3
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: feature_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: minmax
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: trimmed_mean
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 8.289179801940918
------------------------- time cost ------------------------- 6.910338878631592
------------------------- time cost ------------------------- 6.482863664627075
------------------------- time cost ------------------------- 6.335672378540039
------------------------- time cost ------------------------- 6.6050660610198975
------------------------- time cost ------------------------- 6.431419610977173
------------------------- time cost ------------------------- 6.457994222640991
------------------------- time cost ------------------------- 6.365683555603027
------------------------- time cost ------------------------- 6.269942283630371
------------------------- time cost ------------------------- 6.52713942527771

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4957
Averaged Test Accuracy: 0.7413
Averaged Test AUC: 0.7417
Averaged Test Precision: 0.7300
Averaged Test Recall: 0.7413
Averaged Test F1-Score: 0.6493
Std Test Accuracy: 0.1018
Std Test AUC: 0.0618
------------------------- time cost ------------------------- 7.2984442710876465
------------------------- time cost ------------------------- 6.342905759811401
------------------------- time cost ------------------------- 6.466446876525879
------------------------- time cost ------------------------- 6.3666040897369385
------------------------- time cost ------------------------- 6.5598907470703125
------------------------- time cost ------------------------- 6.584697723388672
------------------------- time cost ------------------------- 6.5080742835998535
------------------------- time cost ------------------------- 6.313537359237671
------------------------- time cost ------------------------- 6.278451681137085
------------------------- time cost ------------------------- 6.447418689727783

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4760
Averaged Test Accuracy: 0.7773
Averaged Test AUC: 0.7545
Averaged Test Precision: 0.7746
Averaged Test Recall: 0.7773
Averaged Test F1-Score: 0.7415
Std Test Accuracy: 0.0821
Std Test AUC: 0.0604
------------------------- time cost ------------------------- 7.414299726486206
------------------------- time cost ------------------------- 6.269200801849365
------------------------- time cost ------------------------- 6.309298038482666
------------------------- time cost ------------------------- 6.3654515743255615
------------------------- time cost ------------------------- 6.425235986709595
------------------------- time cost ------------------------- 6.486400604248047
------------------------- time cost ------------------------- 6.587923526763916
------------------------- time cost ------------------------- 6.405872583389282
------------------------- time cost ------------------------- 6.476291656494141
------------------------- time cost ------------------------- 6.299819231033325

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4707
Averaged Test Accuracy: 0.7837
Averaged Test AUC: 0.7610
Averaged Test Precision: 0.7762
Averaged Test Recall: 0.7837
Averaged Test F1-Score: 0.7565
Std Test Accuracy: 0.0716
Std Test AUC: 0.0593
------------------------- time cost ------------------------- 7.442188739776611
------------------------- time cost ------------------------- 6.35772705078125
------------------------- time cost ------------------------- 6.437633514404297
------------------------- time cost ------------------------- 6.3425188064575195
------------------------- time cost ------------------------- 6.3766090869903564
------------------------- time cost ------------------------- 6.357128858566284
------------------------- time cost ------------------------- 6.731183767318726
------------------------- time cost ------------------------- 6.401953935623169
------------------------- time cost ------------------------- 6.486308336257935
------------------------- time cost ------------------------- 6.452322006225586

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4702
Averaged Test Accuracy: 0.7761
Averaged Test AUC: 0.7647
Averaged Test Precision: 0.7745
Averaged Test Recall: 0.7761
Averaged Test F1-Score: 0.7439
Std Test Accuracy: 0.0812
Std Test AUC: 0.0583
------------------------- time cost ------------------------- 7.516042470932007
------------------------- time cost ------------------------- 6.257948398590088
------------------------- time cost ------------------------- 6.3802759647369385
------------------------- time cost ------------------------- 6.339153528213501
------------------------- time cost ------------------------- 6.3306334018707275
------------------------- time cost ------------------------- 6.463710784912109
------------------------- time cost ------------------------- 6.548970460891724
------------------------- time cost ------------------------- 6.428269624710083
------------------------- time cost ------------------------- 6.444751739501953
------------------------- time cost ------------------------- 6.298733711242676

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4689
Averaged Test Accuracy: 0.7811
Averaged Test AUC: 0.7676
Averaged Test Precision: 0.7772
Averaged Test Recall: 0.7811
Averaged Test F1-Score: 0.7523
Std Test Accuracy: 0.0751
Std Test AUC: 0.0553
------------------------- time cost ------------------------- 7.4872682094573975
------------------------- time cost ------------------------- 6.398178815841675
------------------------- time cost ------------------------- 6.372878551483154
------------------------- time cost ------------------------- 6.343594551086426
------------------------- time cost ------------------------- 6.468891859054565
------------------------- time cost ------------------------- 6.503393888473511
------------------------- time cost ------------------------- 6.396560192108154
------------------------- time cost ------------------------- 6.419748067855835
------------------------- time cost ------------------------- 6.519782543182373
------------------------- time cost ------------------------- 6.281255006790161

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4691
Averaged Test Accuracy: 0.7785
Averaged Test AUC: 0.7686
Averaged Test Precision: 0.7755
Averaged Test Recall: 0.7785
Averaged Test F1-Score: 0.7473
Std Test Accuracy: 0.0777
Std Test AUC: 0.0548
------------------------- time cost ------------------------- 7.520059823989868
------------------------- time cost ------------------------- 6.301867723464966
------------------------- time cost ------------------------- 6.418491363525391
------------------------- time cost ------------------------- 6.255839824676514
------------------------- time cost ------------------------- 6.291821002960205
------------------------- time cost ------------------------- 6.405491828918457
------------------------- time cost ------------------------- 6.363666772842407
------------------------- time cost ------------------------- 6.532245874404907
------------------------- time cost ------------------------- 6.399994373321533
------------------------- time cost ------------------------- 6.3659422397613525

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4680
Averaged Test Accuracy: 0.7824
Averaged Test AUC: 0.7698
Averaged Test Precision: 0.7774
Averaged Test Recall: 0.7824
Averaged Test F1-Score: 0.7570
Std Test Accuracy: 0.0697
Std Test AUC: 0.0548
------------------------- time cost ------------------------- 7.471871376037598
------------------------- time cost ------------------------- 6.315595388412476
------------------------- time cost ------------------------- 6.316863298416138
------------------------- time cost ------------------------- 6.27338433265686
------------------------- time cost ------------------------- 6.296030759811401
------------------------- time cost ------------------------- 6.438998699188232
------------------------- time cost ------------------------- 6.336457252502441
------------------------- time cost ------------------------- 6.297172546386719
------------------------- time cost ------------------------- 6.440233945846558
------------------------- time cost ------------------------- 6.398119688034058

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4662
Averaged Test Accuracy: 0.7865
Averaged Test AUC: 0.7713
Averaged Test Precision: 0.7800
Averaged Test Recall: 0.7865
Averaged Test F1-Score: 0.7636
Std Test Accuracy: 0.0658
Std Test AUC: 0.0534
------------------------- time cost ------------------------- 7.397327184677124
------------------------- time cost ------------------------- 6.308598518371582
------------------------- time cost ------------------------- 6.303349494934082
------------------------- time cost ------------------------- 6.223881244659424
------------------------- time cost ------------------------- 6.539715766906738
------------------------- time cost ------------------------- 6.334354400634766
------------------------- time cost ------------------------- 6.187881708145142
------------------------- time cost ------------------------- 6.542033672332764
------------------------- time cost ------------------------- 6.456701278686523
------------------------- time cost ------------------------- 6.217882394790649

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4655
Averaged Test Accuracy: 0.7883
Averaged Test AUC: 0.7720
Averaged Test Precision: 0.7808
Averaged Test Recall: 0.7883
Averaged Test F1-Score: 0.7668
Std Test Accuracy: 0.0636
Std Test AUC: 0.0531
------------------------- time cost ------------------------- 6.895114898681641
------------------------- time cost ------------------------- 5.9284398555755615
------------------------- time cost ------------------------- 6.502111434936523
------------------------- time cost ------------------------- 6.303764581680298
------------------------- time cost ------------------------- 6.6319475173950195
------------------------- time cost ------------------------- 6.7889580726623535
------------------------- time cost ------------------------- 6.439316272735596
------------------------- time cost ------------------------- 6.37485408782959
------------------------- time cost ------------------------- 6.355362415313721
------------------------- time cost ------------------------- 6.57617449760437

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4658
Averaged Test Accuracy: 0.7835
Averaged Test AUC: 0.7730
Averaged Test Precision: 0.7788
Averaged Test Recall: 0.7835
Averaged Test F1-Score: 0.7590
Std Test Accuracy: 0.0702
Std Test AUC: 0.0521
------------------------- time cost ------------------------- 7.410069942474365

Best accuracy.
0.7882666666666667

Average time cost per round.
6.503359885215759
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 659.94秒
