实验: Uci_label_skew_alie_RFA_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-24 21:59:40
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity label_skew --enable_attack True --attack_mode alie --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: label_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: alie
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.112706184387207
------------------------- time cost ------------------------- 5.915743112564087
------------------------- time cost ------------------------- 6.212864875793457
------------------------- time cost ------------------------- 6.352896451950073
------------------------- time cost ------------------------- 6.353071212768555
------------------------- time cost ------------------------- 6.393638849258423
------------------------- time cost ------------------------- 6.45093297958374
------------------------- time cost ------------------------- 6.568525552749634
------------------------- time cost ------------------------- 6.406720876693726
------------------------- time cost ------------------------- 6.493774652481079

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4956
Averaged Test Accuracy: 0.7421
Averaged Test AUC: 0.7417
Averaged Test Precision: 0.7291
Averaged Test Recall: 0.7421
Averaged Test F1-Score: 0.6517
Std Test Accuracy: 0.1015
Std Test AUC: 0.0621
------------------------- time cost ------------------------- 7.339887857437134
------------------------- time cost ------------------------- 6.591184139251709
------------------------- time cost ------------------------- 6.4126012325286865
------------------------- time cost ------------------------- 6.30757474899292
------------------------- time cost ------------------------- 6.385719299316406
------------------------- time cost ------------------------- 6.5236427783966064
------------------------- time cost ------------------------- 6.449587821960449
------------------------- time cost ------------------------- 6.4355387687683105
------------------------- time cost ------------------------- 6.416738033294678
------------------------- time cost ------------------------- 6.55085563659668

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4733
Averaged Test Accuracy: 0.7809
Averaged Test AUC: 0.7548
Averaged Test Precision: 0.7766
Averaged Test Recall: 0.7809
Averaged Test F1-Score: 0.7470
Std Test Accuracy: 0.0791
Std Test AUC: 0.0612
------------------------- time cost ------------------------- 7.47002100944519
------------------------- time cost ------------------------- 6.400087118148804
------------------------- time cost ------------------------- 6.2889015674591064
------------------------- time cost ------------------------- 6.360467433929443
------------------------- time cost ------------------------- 6.263072490692139
------------------------- time cost ------------------------- 6.505030632019043
------------------------- time cost ------------------------- 6.421329498291016
------------------------- time cost ------------------------- 6.3149073123931885
------------------------- time cost ------------------------- 6.39252495765686
------------------------- time cost ------------------------- 6.469271898269653

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4712
Averaged Test Accuracy: 0.7769
Averaged Test AUC: 0.7613
Averaged Test Precision: 0.7741
Averaged Test Recall: 0.7769
Averaged Test F1-Score: 0.7435
Std Test Accuracy: 0.0829
Std Test AUC: 0.0601
------------------------- time cost ------------------------- 7.6767332553863525
------------------------- time cost ------------------------- 6.456868886947632
------------------------- time cost ------------------------- 6.373137712478638
------------------------- time cost ------------------------- 6.447508811950684
------------------------- time cost ------------------------- 6.372784614562988
------------------------- time cost ------------------------- 6.491816282272339
------------------------- time cost ------------------------- 6.343468189239502
------------------------- time cost ------------------------- 6.320361614227295
------------------------- time cost ------------------------- 6.459956407546997
------------------------- time cost ------------------------- 6.428229331970215

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4690
Averaged Test Accuracy: 0.7844
Averaged Test AUC: 0.7652
Averaged Test Precision: 0.7801
Averaged Test Recall: 0.7844
Averaged Test F1-Score: 0.7563
Std Test Accuracy: 0.0720
Std Test AUC: 0.0575
------------------------- time cost ------------------------- 7.421069145202637
------------------------- time cost ------------------------- 6.48001766204834
------------------------- time cost ------------------------- 6.399261713027954
------------------------- time cost ------------------------- 6.423999547958374
------------------------- time cost ------------------------- 6.396599054336548
------------------------- time cost ------------------------- 6.470981597900391
------------------------- time cost ------------------------- 6.398516893386841
------------------------- time cost ------------------------- 6.442884683609009
------------------------- time cost ------------------------- 6.452778577804565
------------------------- time cost ------------------------- 6.441800117492676

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4678
Averaged Test Accuracy: 0.7837
Averaged Test AUC: 0.7681
Averaged Test Precision: 0.7779
Averaged Test Recall: 0.7837
Averaged Test F1-Score: 0.7574
Std Test Accuracy: 0.0713
Std Test AUC: 0.0556
------------------------- time cost ------------------------- 7.636984825134277
------------------------- time cost ------------------------- 6.346522569656372
------------------------- time cost ------------------------- 6.286755561828613
------------------------- time cost ------------------------- 6.299764633178711
------------------------- time cost ------------------------- 6.355759143829346
------------------------- time cost ------------------------- 6.371604919433594
------------------------- time cost ------------------------- 6.330432415008545
------------------------- time cost ------------------------- 6.3582189083099365
------------------------- time cost ------------------------- 6.546723127365112
------------------------- time cost ------------------------- 6.496412515640259

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4681
Averaged Test Accuracy: 0.7840
Averaged Test AUC: 0.7683
Averaged Test Precision: 0.7801
Averaged Test Recall: 0.7840
Averaged Test F1-Score: 0.7559
Std Test Accuracy: 0.0718
Std Test AUC: 0.0560
------------------------- time cost ------------------------- 7.349636554718018
------------------------- time cost ------------------------- 6.427781105041504
------------------------- time cost ------------------------- 6.3574559688568115
------------------------- time cost ------------------------- 6.375528812408447
------------------------- time cost ------------------------- 6.300487041473389
------------------------- time cost ------------------------- 6.380521774291992
------------------------- time cost ------------------------- 6.319420337677002
------------------------- time cost ------------------------- 6.3801798820495605
------------------------- time cost ------------------------- 6.3223230838775635
------------------------- time cost ------------------------- 6.386321544647217

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4679
Averaged Test Accuracy: 0.7839
Averaged Test AUC: 0.7703
Averaged Test Precision: 0.7785
Averaged Test Recall: 0.7839
Averaged Test F1-Score: 0.7583
Std Test Accuracy: 0.0678
Std Test AUC: 0.0541
------------------------- time cost ------------------------- 7.531103134155273
------------------------- time cost ------------------------- 6.359723329544067
------------------------- time cost ------------------------- 6.510697603225708
------------------------- time cost ------------------------- 6.301292657852173
------------------------- time cost ------------------------- 6.496961355209351
------------------------- time cost ------------------------- 6.342804670333862
------------------------- time cost ------------------------- 6.374933242797852
------------------------- time cost ------------------------- 6.475092887878418
------------------------- time cost ------------------------- 6.506648063659668
------------------------- time cost ------------------------- 6.4411940574646

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4690
Averaged Test Accuracy: 0.7805
Averaged Test AUC: 0.7704
Averaged Test Precision: 0.7778
Averaged Test Recall: 0.7805
Averaged Test F1-Score: 0.7528
Std Test Accuracy: 0.0736
Std Test AUC: 0.0547
------------------------- time cost ------------------------- 7.538757085800171
------------------------- time cost ------------------------- 6.429079294204712
------------------------- time cost ------------------------- 6.375787258148193
------------------------- time cost ------------------------- 6.481224775314331
------------------------- time cost ------------------------- 6.469340085983276
------------------------- time cost ------------------------- 6.323951482772827
------------------------- time cost ------------------------- 6.493021726608276
------------------------- time cost ------------------------- 6.462940216064453
------------------------- time cost ------------------------- 6.342833042144775
------------------------- time cost ------------------------- 6.565654754638672

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4675
Averaged Test Accuracy: 0.7843
Averaged Test AUC: 0.7724
Averaged Test Precision: 0.7807
Averaged Test Recall: 0.7843
Averaged Test F1-Score: 0.7579
Std Test Accuracy: 0.0707
Std Test AUC: 0.0530
------------------------- time cost ------------------------- 7.468090295791626
------------------------- time cost ------------------------- 6.384425401687622
------------------------- time cost ------------------------- 6.512265682220459
------------------------- time cost ------------------------- 6.604004144668579
------------------------- time cost ------------------------- 6.407382965087891
------------------------- time cost ------------------------- 6.226171016693115
------------------------- time cost ------------------------- 6.62919282913208
------------------------- time cost ------------------------- 6.440548419952393
------------------------- time cost ------------------------- 6.84844970703125
------------------------- time cost ------------------------- 6.78782057762146

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4681
Averaged Test Accuracy: 0.7797
Averaged Test AUC: 0.7723
Averaged Test Precision: 0.7786
Averaged Test Recall: 0.7797
Averaged Test F1-Score: 0.7521
Std Test Accuracy: 0.0756
Std Test AUC: 0.0529
------------------------- time cost ------------------------- 7.888124704360962

Best accuracy.
0.7844

Average time cost per round.
6.527942380905151
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 661.12秒
