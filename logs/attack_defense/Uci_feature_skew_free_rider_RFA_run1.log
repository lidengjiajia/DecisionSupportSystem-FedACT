实验: Uci_feature_skew_free_rider_RFA_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-25 00:10:52
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity feature_skew --enable_attack True --attack_mode free_rider --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: feature_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: free_rider
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.7872490882873535
------------------------- time cost ------------------------- 6.3389410972595215
------------------------- time cost ------------------------- 6.173192739486694
------------------------- time cost ------------------------- 6.1879565715789795
------------------------- time cost ------------------------- 6.3588478565216064
------------------------- time cost ------------------------- 6.145357131958008
------------------------- time cost ------------------------- 6.280739068984985
------------------------- time cost ------------------------- 6.312872409820557
------------------------- time cost ------------------------- 6.428774118423462
------------------------- time cost ------------------------- 6.307241916656494

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4949
Averaged Test Accuracy: 0.7403
Averaged Test AUC: 0.7423
Averaged Test Precision: 0.7230
Averaged Test Recall: 0.7403
Averaged Test F1-Score: 0.6466
Std Test Accuracy: 0.1006
Std Test AUC: 0.0618
------------------------- time cost ------------------------- 7.300580024719238
------------------------- time cost ------------------------- 6.186785697937012
------------------------- time cost ------------------------- 6.385505199432373
------------------------- time cost ------------------------- 6.29120945930481
------------------------- time cost ------------------------- 6.324117183685303
------------------------- time cost ------------------------- 6.436084508895874
------------------------- time cost ------------------------- 6.194200038909912
------------------------- time cost ------------------------- 6.246793985366821
------------------------- time cost ------------------------- 6.292577505111694
------------------------- time cost ------------------------- 6.185347080230713

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4759
Averaged Test Accuracy: 0.7768
Averaged Test AUC: 0.7545
Averaged Test Precision: 0.7751
Averaged Test Recall: 0.7768
Averaged Test F1-Score: 0.7399
Std Test Accuracy: 0.0827
Std Test AUC: 0.0603
------------------------- time cost ------------------------- 7.304311275482178
------------------------- time cost ------------------------- 6.1893556118011475
------------------------- time cost ------------------------- 6.267937421798706
------------------------- time cost ------------------------- 6.322608232498169
------------------------- time cost ------------------------- 6.217959880828857
------------------------- time cost ------------------------- 6.3467676639556885
------------------------- time cost ------------------------- 6.311018466949463
------------------------- time cost ------------------------- 6.283494472503662
------------------------- time cost ------------------------- 6.225880146026611
------------------------- time cost ------------------------- 6.159677505493164

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4697
Averaged Test Accuracy: 0.7811
Averaged Test AUC: 0.7622
Averaged Test Precision: 0.7748
Averaged Test Recall: 0.7811
Averaged Test F1-Score: 0.7506
Std Test Accuracy: 0.0759
Std Test AUC: 0.0584
------------------------- time cost ------------------------- 7.290657997131348
------------------------- time cost ------------------------- 6.317712783813477
------------------------- time cost ------------------------- 6.480952978134155
------------------------- time cost ------------------------- 6.305068016052246
------------------------- time cost ------------------------- 6.292898416519165
------------------------- time cost ------------------------- 6.245892524719238
------------------------- time cost ------------------------- 6.371788501739502
------------------------- time cost ------------------------- 6.237560272216797
------------------------- time cost ------------------------- 6.270520448684692
------------------------- time cost ------------------------- 6.2422590255737305

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4676
Averaged Test Accuracy: 0.7848
Averaged Test AUC: 0.7657
Averaged Test Precision: 0.7787
Averaged Test Recall: 0.7848
Averaged Test F1-Score: 0.7591
Std Test Accuracy: 0.0717
Std Test AUC: 0.0576
------------------------- time cost ------------------------- 7.304646730422974
------------------------- time cost ------------------------- 6.258402585983276
------------------------- time cost ------------------------- 6.3890111446380615
------------------------- time cost ------------------------- 6.45825457572937
------------------------- time cost ------------------------- 6.300483226776123
------------------------- time cost ------------------------- 6.195745468139648
------------------------- time cost ------------------------- 6.36956524848938
------------------------- time cost ------------------------- 6.307239055633545
------------------------- time cost ------------------------- 6.293314218521118
------------------------- time cost ------------------------- 6.288676023483276

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4685
Averaged Test Accuracy: 0.7821
Averaged Test AUC: 0.7674
Averaged Test Precision: 0.7774
Averaged Test Recall: 0.7821
Averaged Test F1-Score: 0.7547
Std Test Accuracy: 0.0748
Std Test AUC: 0.0562
------------------------- time cost ------------------------- 7.397112131118774
------------------------- time cost ------------------------- 6.327517032623291
------------------------- time cost ------------------------- 6.2829749584198
------------------------- time cost ------------------------- 6.302170276641846
------------------------- time cost ------------------------- 6.386917591094971
------------------------- time cost ------------------------- 6.10281777381897
------------------------- time cost ------------------------- 6.2494518756866455
------------------------- time cost ------------------------- 6.433536529541016
------------------------- time cost ------------------------- 6.172075271606445
------------------------- time cost ------------------------- 6.2736265659332275

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4683
Averaged Test Accuracy: 0.7792
Averaged Test AUC: 0.7692
Averaged Test Precision: 0.7762
Averaged Test Recall: 0.7792
Averaged Test F1-Score: 0.7495
Std Test Accuracy: 0.0763
Std Test AUC: 0.0548
------------------------- time cost ------------------------- 7.2252373695373535
------------------------- time cost ------------------------- 6.092833042144775
------------------------- time cost ------------------------- 6.165918350219727
------------------------- time cost ------------------------- 6.2368927001953125
------------------------- time cost ------------------------- 6.183902978897095
------------------------- time cost ------------------------- 6.2655110359191895
------------------------- time cost ------------------------- 6.102631568908691
------------------------- time cost ------------------------- 6.364865064620972
------------------------- time cost ------------------------- 6.142979383468628
------------------------- time cost ------------------------- 6.225662708282471

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4689
Averaged Test Accuracy: 0.7821
Averaged Test AUC: 0.7700
Averaged Test Precision: 0.7777
Averaged Test Recall: 0.7821
Averaged Test F1-Score: 0.7546
Std Test Accuracy: 0.0712
Std Test AUC: 0.0545
------------------------- time cost ------------------------- 7.29868745803833
------------------------- time cost ------------------------- 6.165745973587036
------------------------- time cost ------------------------- 6.126037120819092
------------------------- time cost ------------------------- 6.318838357925415
------------------------- time cost ------------------------- 6.2691123485565186
------------------------- time cost ------------------------- 6.19200873374939
------------------------- time cost ------------------------- 6.187480211257935
------------------------- time cost ------------------------- 6.217655181884766
------------------------- time cost ------------------------- 6.3689210414886475
------------------------- time cost ------------------------- 6.161787509918213

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4669
Averaged Test Accuracy: 0.7832
Averaged Test AUC: 0.7716
Averaged Test Precision: 0.7778
Averaged Test Recall: 0.7832
Averaged Test F1-Score: 0.7553
Std Test Accuracy: 0.0725
Std Test AUC: 0.0533
------------------------- time cost ------------------------- 7.296370029449463
------------------------- time cost ------------------------- 6.341186046600342
------------------------- time cost ------------------------- 6.199489116668701
------------------------- time cost ------------------------- 6.310055732727051
------------------------- time cost ------------------------- 6.217502117156982
------------------------- time cost ------------------------- 6.34178900718689
------------------------- time cost ------------------------- 6.309343099594116
------------------------- time cost ------------------------- 6.414584159851074
------------------------- time cost ------------------------- 6.448986768722534
------------------------- time cost ------------------------- 6.3089258670806885

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4664
Averaged Test Accuracy: 0.7840
Averaged Test AUC: 0.7718
Averaged Test Precision: 0.7781
Averaged Test Recall: 0.7840
Averaged Test F1-Score: 0.7591
Std Test Accuracy: 0.0691
Std Test AUC: 0.0541
------------------------- time cost ------------------------- 7.280730247497559
------------------------- time cost ------------------------- 6.353708982467651
------------------------- time cost ------------------------- 6.323057174682617
------------------------- time cost ------------------------- 6.3882293701171875
------------------------- time cost ------------------------- 6.336389541625977
------------------------- time cost ------------------------- 6.665542364120483
------------------------- time cost ------------------------- 6.887456655502319
------------------------- time cost ------------------------- 6.39167594909668
------------------------- time cost ------------------------- 6.670462608337402
------------------------- time cost ------------------------- 6.61593222618103

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4674
Averaged Test Accuracy: 0.7812
Averaged Test AUC: 0.7725
Averaged Test Precision: 0.7764
Averaged Test Recall: 0.7812
Averaged Test F1-Score: 0.7549
Std Test Accuracy: 0.0713
Std Test AUC: 0.0528
------------------------- time cost ------------------------- 8.127725839614868

Best accuracy.
0.7848

Average time cost per round.
6.40696834564209
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 649.83秒
