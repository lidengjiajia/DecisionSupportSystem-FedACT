实验: Uci_iid_scale_RFA_run1
物理GPU ID: 2
CUDA_VISIBLE_DEVICES: 2
时间: 2026-01-24 21:04:26
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity iid --enable_attack True --attack_mode scale --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=2
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: iid
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: scale
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.602831125259399
------------------------- time cost ------------------------- 6.224326848983765
------------------------- time cost ------------------------- 6.3262107372283936
------------------------- time cost ------------------------- 6.375329256057739
------------------------- time cost ------------------------- 6.421871662139893
------------------------- time cost ------------------------- 6.270840883255005
------------------------- time cost ------------------------- 6.1761016845703125
------------------------- time cost ------------------------- 6.296277046203613
------------------------- time cost ------------------------- 6.109893321990967
------------------------- time cost ------------------------- 6.287542104721069

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4974
Averaged Test Accuracy: 0.7420
Averaged Test AUC: 0.7406
Averaged Test Precision: 0.7347
Averaged Test Recall: 0.7420
Averaged Test F1-Score: 0.6499
Std Test Accuracy: 0.1011
Std Test AUC: 0.0624
------------------------- time cost ------------------------- 7.338457822799683
------------------------- time cost ------------------------- 6.726025581359863
------------------------- time cost ------------------------- 6.341372966766357
------------------------- time cost ------------------------- 6.255857467651367
------------------------- time cost ------------------------- 6.13532829284668
------------------------- time cost ------------------------- 6.243616104125977
------------------------- time cost ------------------------- 6.422061204910278
------------------------- time cost ------------------------- 6.243826150894165
------------------------- time cost ------------------------- 6.348399639129639
------------------------- time cost ------------------------- 6.252702474594116

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4731
Averaged Test Accuracy: 0.7805
Averaged Test AUC: 0.7548
Averaged Test Precision: 0.7744
Averaged Test Recall: 0.7805
Averaged Test F1-Score: 0.7486
Std Test Accuracy: 0.0783
Std Test AUC: 0.0613
------------------------- time cost ------------------------- 7.37854528427124
------------------------- time cost ------------------------- 6.526977062225342
------------------------- time cost ------------------------- 6.365896463394165
------------------------- time cost ------------------------- 6.217049598693848
------------------------- time cost ------------------------- 6.192136526107788
------------------------- time cost ------------------------- 6.36392617225647
------------------------- time cost ------------------------- 6.285573720932007
------------------------- time cost ------------------------- 6.330267429351807
------------------------- time cost ------------------------- 6.212825298309326
------------------------- time cost ------------------------- 6.408761262893677

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4713
Averaged Test Accuracy: 0.7789
Averaged Test AUC: 0.7613
Averaged Test Precision: 0.7737
Averaged Test Recall: 0.7789
Averaged Test F1-Score: 0.7482
Std Test Accuracy: 0.0775
Std Test AUC: 0.0603
------------------------- time cost ------------------------- 7.331698656082153
------------------------- time cost ------------------------- 6.501197338104248
------------------------- time cost ------------------------- 6.535181760787964
------------------------- time cost ------------------------- 6.29719614982605
------------------------- time cost ------------------------- 6.21327543258667
------------------------- time cost ------------------------- 6.24307918548584
------------------------- time cost ------------------------- 6.352608919143677
------------------------- time cost ------------------------- 6.208196401596069
------------------------- time cost ------------------------- 6.335937976837158
------------------------- time cost ------------------------- 6.320491790771484

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4705
Averaged Test Accuracy: 0.7789
Averaged Test AUC: 0.7650
Averaged Test Precision: 0.7759
Averaged Test Recall: 0.7789
Averaged Test F1-Score: 0.7480
Std Test Accuracy: 0.0767
Std Test AUC: 0.0584
------------------------- time cost ------------------------- 7.333197355270386
------------------------- time cost ------------------------- 6.643463850021362
------------------------- time cost ------------------------- 6.475292921066284
------------------------- time cost ------------------------- 6.353587865829468
------------------------- time cost ------------------------- 6.384900808334351
------------------------- time cost ------------------------- 6.213849782943726
------------------------- time cost ------------------------- 6.455763578414917
------------------------- time cost ------------------------- 6.2454962730407715
------------------------- time cost ------------------------- 6.108042478561401
------------------------- time cost ------------------------- 6.499046325683594

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4696
Averaged Test Accuracy: 0.7781
Averaged Test AUC: 0.7680
Averaged Test Precision: 0.7745
Averaged Test Recall: 0.7781
Averaged Test F1-Score: 0.7480
Std Test Accuracy: 0.0789
Std Test AUC: 0.0561
------------------------- time cost ------------------------- 7.3165059089660645
------------------------- time cost ------------------------- 6.47067403793335
------------------------- time cost ------------------------- 6.452194929122925
------------------------- time cost ------------------------- 6.341240882873535
------------------------- time cost ------------------------- 6.313745975494385
------------------------- time cost ------------------------- 6.388641357421875
------------------------- time cost ------------------------- 6.330410718917847
------------------------- time cost ------------------------- 6.400937557220459
------------------------- time cost ------------------------- 6.217331409454346
------------------------- time cost ------------------------- 6.2771196365356445

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4698
Averaged Test Accuracy: 0.7785
Averaged Test AUC: 0.7694
Averaged Test Precision: 0.7765
Averaged Test Recall: 0.7785
Averaged Test F1-Score: 0.7479
Std Test Accuracy: 0.0766
Std Test AUC: 0.0544
------------------------- time cost ------------------------- 7.437954664230347
------------------------- time cost ------------------------- 6.468443155288696
------------------------- time cost ------------------------- 6.336697101593018
------------------------- time cost ------------------------- 6.337205171585083
------------------------- time cost ------------------------- 6.150221347808838
------------------------- time cost ------------------------- 6.280108451843262
------------------------- time cost ------------------------- 6.300244569778442
------------------------- time cost ------------------------- 6.49482274055481
------------------------- time cost ------------------------- 6.256217956542969
------------------------- time cost ------------------------- 6.324155569076538

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4673
Averaged Test Accuracy: 0.7871
Averaged Test AUC: 0.7709
Averaged Test Precision: 0.7815
Averaged Test Recall: 0.7871
Averaged Test F1-Score: 0.7630
Std Test Accuracy: 0.0672
Std Test AUC: 0.0540
------------------------- time cost ------------------------- 7.418200731277466
------------------------- time cost ------------------------- 6.392542123794556
------------------------- time cost ------------------------- 6.517909049987793
------------------------- time cost ------------------------- 6.350839614868164
------------------------- time cost ------------------------- 6.281815528869629
------------------------- time cost ------------------------- 6.2481794357299805
------------------------- time cost ------------------------- 6.289409160614014
------------------------- time cost ------------------------- 6.315566062927246
------------------------- time cost ------------------------- 6.497504472732544
------------------------- time cost ------------------------- 6.345463752746582

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4675
Averaged Test Accuracy: 0.7825
Averaged Test AUC: 0.7721
Averaged Test Precision: 0.7789
Averaged Test Recall: 0.7825
Averaged Test F1-Score: 0.7544
Std Test Accuracy: 0.0736
Std Test AUC: 0.0527
------------------------- time cost ------------------------- 7.400972604751587
------------------------- time cost ------------------------- 6.431175470352173
------------------------- time cost ------------------------- 6.388903856277466
------------------------- time cost ------------------------- 6.26692008972168
------------------------- time cost ------------------------- 6.296838045120239
------------------------- time cost ------------------------- 6.246777057647705
------------------------- time cost ------------------------- 6.18902063369751
------------------------- time cost ------------------------- 6.166446924209595
------------------------- time cost ------------------------- 6.344988584518433
------------------------- time cost ------------------------- 6.272406101226807

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4666
Averaged Test Accuracy: 0.7861
Averaged Test AUC: 0.7728
Averaged Test Precision: 0.7813
Averaged Test Recall: 0.7861
Averaged Test F1-Score: 0.7611
Std Test Accuracy: 0.0693
Std Test AUC: 0.0527
------------------------- time cost ------------------------- 7.406750440597534
------------------------- time cost ------------------------- 6.326644659042358
------------------------- time cost ------------------------- 6.47215461730957
------------------------- time cost ------------------------- 6.32468843460083
------------------------- time cost ------------------------- 6.22010350227356
------------------------- time cost ------------------------- 6.224533557891846
------------------------- time cost ------------------------- 6.211098670959473
------------------------- time cost ------------------------- 6.286693572998047
------------------------- time cost ------------------------- 6.183547496795654
------------------------- time cost ------------------------- 6.613020896911621

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4654
Averaged Test Accuracy: 0.7837
Averaged Test AUC: 0.7730
Averaged Test Precision: 0.7787
Averaged Test Recall: 0.7837
Averaged Test F1-Score: 0.7576
Std Test Accuracy: 0.0725
Std Test AUC: 0.0520
------------------------- time cost ------------------------- 7.491070032119751

Best accuracy.
0.7870666666666667

Average time cost per round.
6.43446563243866
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 652.42秒
