实验: Xinwang_label_skew_collision_Bulyan_run1
物理GPU ID: 3
CUDA_VISIBLE_DEVICES: 3
时间: 2026-01-25 01:45:32
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity label_skew --enable_attack True --attack_mode collision --malicious_ratio 0.3 --defense_mode bulyan --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=3
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: label_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: collision
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: bulyan
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 6.351186752319336
------------------------- time cost ------------------------- 5.430263519287109
------------------------- time cost ------------------------- 5.574947834014893
------------------------- time cost ------------------------- 5.5100696086883545
------------------------- time cost ------------------------- 5.4917192459106445
------------------------- time cost ------------------------- 5.319705486297607
------------------------- time cost ------------------------- 5.357074499130249
------------------------- time cost ------------------------- 5.427304267883301
------------------------- time cost ------------------------- 5.340955972671509
------------------------- time cost ------------------------- 5.322700262069702

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3469
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5753
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1336
------------------------- time cost ------------------------- 6.043618440628052
------------------------- time cost ------------------------- 5.537787914276123
------------------------- time cost ------------------------- 5.349457263946533
------------------------- time cost ------------------------- 5.409899950027466
------------------------- time cost ------------------------- 5.574972629547119
------------------------- time cost ------------------------- 5.389387607574463
------------------------- time cost ------------------------- 5.287661552429199
------------------------- time cost ------------------------- 5.344750165939331
------------------------- time cost ------------------------- 5.364135503768921
------------------------- time cost ------------------------- 5.298043727874756

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3381
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6143
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0930
------------------------- time cost ------------------------- 6.130425453186035
------------------------- time cost ------------------------- 5.4402174949646
------------------------- time cost ------------------------- 5.406489133834839
------------------------- time cost ------------------------- 5.369796276092529
------------------------- time cost ------------------------- 5.445585489273071
------------------------- time cost ------------------------- 5.318963289260864
------------------------- time cost ------------------------- 5.486541032791138
------------------------- time cost ------------------------- 5.372867822647095
------------------------- time cost ------------------------- 5.335196018218994
------------------------- time cost ------------------------- 5.403722286224365

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3354
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6365
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0770
------------------------- time cost ------------------------- 6.184235572814941
------------------------- time cost ------------------------- 5.395003795623779
------------------------- time cost ------------------------- 5.265253305435181
------------------------- time cost ------------------------- 5.465267658233643
------------------------- time cost ------------------------- 5.4508490562438965
------------------------- time cost ------------------------- 5.441150903701782
------------------------- time cost ------------------------- 5.374263048171997
------------------------- time cost ------------------------- 5.427544355392456
------------------------- time cost ------------------------- 5.325073003768921
------------------------- time cost ------------------------- 5.4115753173828125

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3356
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6848
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0635
------------------------- time cost ------------------------- 6.239211797714233
------------------------- time cost ------------------------- 5.4450438022613525
------------------------- time cost ------------------------- 5.5164196491241455
------------------------- time cost ------------------------- 5.404529094696045
------------------------- time cost ------------------------- 5.492130756378174
------------------------- time cost ------------------------- 5.476555585861206
------------------------- time cost ------------------------- 5.362038612365723
------------------------- time cost ------------------------- 5.369110345840454
------------------------- time cost ------------------------- 5.378277540206909
------------------------- time cost ------------------------- 5.371157884597778

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3382
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7296
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0471
------------------------- time cost ------------------------- 6.1510844230651855
------------------------- time cost ------------------------- 5.297828674316406
------------------------- time cost ------------------------- 5.363383054733276
------------------------- time cost ------------------------- 5.5354297161102295
------------------------- time cost ------------------------- 5.420153617858887
------------------------- time cost ------------------------- 5.382195949554443
------------------------- time cost ------------------------- 5.524886846542358
------------------------- time cost ------------------------- 5.248788118362427
------------------------- time cost ------------------------- 5.337560176849365
------------------------- time cost ------------------------- 5.3658037185668945

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3341
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7532
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0585
------------------------- time cost ------------------------- 6.326713800430298
------------------------- time cost ------------------------- 5.383935451507568
------------------------- time cost ------------------------- 5.26889967918396
------------------------- time cost ------------------------- 5.480207681655884
------------------------- time cost ------------------------- 5.40086817741394
------------------------- time cost ------------------------- 5.351752281188965
------------------------- time cost ------------------------- 5.452762842178345
------------------------- time cost ------------------------- 5.297562837600708
------------------------- time cost ------------------------- 5.334933519363403
------------------------- time cost ------------------------- 5.3437180519104

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3352
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7686
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0664
------------------------- time cost ------------------------- 6.050701379776001
------------------------- time cost ------------------------- 5.4059507846832275
------------------------- time cost ------------------------- 5.39088773727417
------------------------- time cost ------------------------- 5.4599809646606445
------------------------- time cost ------------------------- 5.326222658157349
------------------------- time cost ------------------------- 5.5752716064453125
------------------------- time cost ------------------------- 5.384172201156616
------------------------- time cost ------------------------- 5.383581876754761
------------------------- time cost ------------------------- 5.456110954284668
------------------------- time cost ------------------------- 5.491900205612183

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3359
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7786
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0579
------------------------- time cost ------------------------- 6.08720588684082
------------------------- time cost ------------------------- 5.467408657073975
------------------------- time cost ------------------------- 5.430865287780762
------------------------- time cost ------------------------- 5.564947605133057
------------------------- time cost ------------------------- 5.368278503417969
------------------------- time cost ------------------------- 5.458196401596069
------------------------- time cost ------------------------- 5.324390649795532
------------------------- time cost ------------------------- 5.425512790679932
------------------------- time cost ------------------------- 5.426811456680298
------------------------- time cost ------------------------- 5.409318685531616

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3342
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7994
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0605
------------------------- time cost ------------------------- 6.236924171447754
------------------------- time cost ------------------------- 5.459763288497925
------------------------- time cost ------------------------- 5.4906005859375
------------------------- time cost ------------------------- 5.341974258422852
------------------------- time cost ------------------------- 5.261188507080078
------------------------- time cost ------------------------- 5.31692099571228
------------------------- time cost ------------------------- 5.239121913909912
------------------------- time cost ------------------------- 5.601735353469849
------------------------- time cost ------------------------- 5.4667840003967285
------------------------- time cost ------------------------- 5.423576831817627

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3319
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8098
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0560
------------------------- time cost ------------------------- 6.245495557785034

Best accuracy.
0.9147651006711409

Average time cost per round.
5.481192212104798
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 555.81秒
