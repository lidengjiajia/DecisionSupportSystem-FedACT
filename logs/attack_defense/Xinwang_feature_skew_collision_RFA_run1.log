实验: Xinwang_feature_skew_collision_RFA_run1
物理GPU ID: 1
CUDA_VISIBLE_DEVICES: 1
时间: 2026-01-25 03:17:03
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity feature_skew --enable_attack True --attack_mode collision --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=1
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: feature_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: collision
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 5.672139406204224
------------------------- time cost ------------------------- 4.901553392410278
------------------------- time cost ------------------------- 4.795979738235474
------------------------- time cost ------------------------- 4.881874084472656
------------------------- time cost ------------------------- 4.695085525512695
------------------------- time cost ------------------------- 4.796670913696289
------------------------- time cost ------------------------- 4.833752393722534
------------------------- time cost ------------------------- 4.571452617645264
------------------------- time cost ------------------------- 4.710761070251465
------------------------- time cost ------------------------- 4.324801206588745

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3479
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5601
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1320
------------------------- time cost ------------------------- 4.812069416046143
------------------------- time cost ------------------------- 4.388526916503906
------------------------- time cost ------------------------- 4.127664089202881
------------------------- time cost ------------------------- 4.089554786682129
------------------------- time cost ------------------------- 4.142450571060181
------------------------- time cost ------------------------- 4.172185897827148
------------------------- time cost ------------------------- 4.261913299560547
------------------------- time cost ------------------------- 4.2128517627716064
------------------------- time cost ------------------------- 4.2769598960876465
------------------------- time cost ------------------------- 4.158376693725586

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3375
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6069
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0938
------------------------- time cost ------------------------- 4.853527784347534
------------------------- time cost ------------------------- 4.177560567855835
------------------------- time cost ------------------------- 4.1987199783325195
------------------------- time cost ------------------------- 4.159129619598389
------------------------- time cost ------------------------- 4.091911315917969
------------------------- time cost ------------------------- 4.105835676193237
------------------------- time cost ------------------------- 4.055310249328613
------------------------- time cost ------------------------- 4.019544839859009
------------------------- time cost ------------------------- 4.066006660461426
------------------------- time cost ------------------------- 4.055623531341553

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3340
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6501
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0677
------------------------- time cost ------------------------- 4.699475526809692
------------------------- time cost ------------------------- 4.102398872375488
------------------------- time cost ------------------------- 3.9911913871765137
------------------------- time cost ------------------------- 4.04908299446106
------------------------- time cost ------------------------- 4.062582015991211
------------------------- time cost ------------------------- 4.007468223571777
------------------------- time cost ------------------------- 4.020777463912964
------------------------- time cost ------------------------- 3.9768378734588623
------------------------- time cost ------------------------- 4.07554030418396
------------------------- time cost ------------------------- 4.196260213851929

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3361
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6955
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0507
------------------------- time cost ------------------------- 4.63826060295105
------------------------- time cost ------------------------- 4.002227783203125
------------------------- time cost ------------------------- 4.1755945682525635
------------------------- time cost ------------------------- 4.07086968421936
------------------------- time cost ------------------------- 3.9939157962799072
------------------------- time cost ------------------------- 4.063946485519409
------------------------- time cost ------------------------- 4.086684226989746
------------------------- time cost ------------------------- 4.091869115829468
------------------------- time cost ------------------------- 4.05992317199707
------------------------- time cost ------------------------- 4.06353235244751

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3385
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7277
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0529
------------------------- time cost ------------------------- 4.687796592712402
------------------------- time cost ------------------------- 4.048586845397949
------------------------- time cost ------------------------- 4.044721603393555
------------------------- time cost ------------------------- 4.011173963546753
------------------------- time cost ------------------------- 4.098290681838989
------------------------- time cost ------------------------- 4.080571889877319
------------------------- time cost ------------------------- 4.414165258407593
------------------------- time cost ------------------------- 4.112400054931641
------------------------- time cost ------------------------- 4.018125057220459
------------------------- time cost ------------------------- 4.045849561691284

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3364
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7512
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0604
------------------------- time cost ------------------------- 4.639530897140503
------------------------- time cost ------------------------- 4.135334253311157
------------------------- time cost ------------------------- 4.066338062286377
------------------------- time cost ------------------------- 3.9875600337982178
------------------------- time cost ------------------------- 4.059398651123047
------------------------- time cost ------------------------- 4.1053221225738525
------------------------- time cost ------------------------- 4.130581617355347
------------------------- time cost ------------------------- 4.107116937637329
------------------------- time cost ------------------------- 4.0549633502960205
------------------------- time cost ------------------------- 4.030716180801392

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3349
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7715
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0621
------------------------- time cost ------------------------- 4.685811758041382
------------------------- time cost ------------------------- 4.016645669937134
------------------------- time cost ------------------------- 4.027667760848999
------------------------- time cost ------------------------- 4.195080518722534
------------------------- time cost ------------------------- 4.048802614212036
------------------------- time cost ------------------------- 4.033231735229492
------------------------- time cost ------------------------- 4.175732612609863
------------------------- time cost ------------------------- 4.098428726196289
------------------------- time cost ------------------------- 4.0358171463012695
------------------------- time cost ------------------------- 4.029742002487183

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3368
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7871
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0632
------------------------- time cost ------------------------- 4.681001424789429
------------------------- time cost ------------------------- 4.046456575393677
------------------------- time cost ------------------------- 4.0112879276275635
------------------------- time cost ------------------------- 4.200518608093262
------------------------- time cost ------------------------- 4.119564056396484
------------------------- time cost ------------------------- 3.9718966484069824
------------------------- time cost ------------------------- 4.09801173210144
------------------------- time cost ------------------------- 4.025088548660278
------------------------- time cost ------------------------- 4.014146089553833
------------------------- time cost ------------------------- 4.091623544692993

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3340
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8026
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0681
------------------------- time cost ------------------------- 4.728344440460205
------------------------- time cost ------------------------- 4.05029034614563
------------------------- time cost ------------------------- 4.06635046005249
------------------------- time cost ------------------------- 4.016065835952759
------------------------- time cost ------------------------- 3.986950397491455
------------------------- time cost ------------------------- 3.9311203956604004
------------------------- time cost ------------------------- 3.924041509628296
------------------------- time cost ------------------------- 3.946418046951294
------------------------- time cost ------------------------- 3.6340272426605225
------------------------- time cost ------------------------- 3.573939800262451

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3335
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8128
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0559
------------------------- time cost ------------------------- 4.118681907653809

Best accuracy.
0.9147651006711409

Average time cost per round.
4.188274228572846
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 425.75秒
