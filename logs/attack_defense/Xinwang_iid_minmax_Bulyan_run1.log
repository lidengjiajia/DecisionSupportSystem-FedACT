实验: Xinwang_iid_minmax_Bulyan_run1
物理GPU ID: 2
CUDA_VISIBLE_DEVICES: 2
时间: 2026-01-25 00:40:29
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity iid --enable_attack True --attack_mode minmax --malicious_ratio 0.3 --defense_mode bulyan --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=2
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: iid
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: minmax
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: bulyan
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 7.0143067836761475
------------------------- time cost ------------------------- 5.949371814727783
------------------------- time cost ------------------------- 5.727572441101074
------------------------- time cost ------------------------- 5.632398843765259
------------------------- time cost ------------------------- 5.529568910598755
------------------------- time cost ------------------------- 5.50139856338501
------------------------- time cost ------------------------- 5.505718946456909
------------------------- time cost ------------------------- 5.5345447063446045
------------------------- time cost ------------------------- 5.5514161586761475
------------------------- time cost ------------------------- 5.593329191207886

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3442
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5714
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1524
------------------------- time cost ------------------------- 6.25946831703186
------------------------- time cost ------------------------- 5.5464136600494385
------------------------- time cost ------------------------- 5.526541709899902
------------------------- time cost ------------------------- 5.621795654296875
------------------------- time cost ------------------------- 5.600635290145874
------------------------- time cost ------------------------- 5.466206312179565
------------------------- time cost ------------------------- 5.506545543670654
------------------------- time cost ------------------------- 5.600766658782959
------------------------- time cost ------------------------- 5.398283243179321
------------------------- time cost ------------------------- 5.519063949584961

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3377
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6172
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1082
------------------------- time cost ------------------------- 6.246037006378174
------------------------- time cost ------------------------- 5.5662994384765625
------------------------- time cost ------------------------- 5.502268314361572
------------------------- time cost ------------------------- 5.535179615020752
------------------------- time cost ------------------------- 5.5581207275390625
------------------------- time cost ------------------------- 5.534565687179565
------------------------- time cost ------------------------- 5.566961288452148
------------------------- time cost ------------------------- 5.514779329299927
------------------------- time cost ------------------------- 5.5290093421936035
------------------------- time cost ------------------------- 5.575628280639648

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3352
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6496
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0685
------------------------- time cost ------------------------- 6.309553623199463
------------------------- time cost ------------------------- 5.564246892929077
------------------------- time cost ------------------------- 5.511502981185913
------------------------- time cost ------------------------- 5.600740432739258
------------------------- time cost ------------------------- 5.479255676269531
------------------------- time cost ------------------------- 5.442541122436523
------------------------- time cost ------------------------- 5.55025053024292
------------------------- time cost ------------------------- 5.494945049285889
------------------------- time cost ------------------------- 5.4957780838012695
------------------------- time cost ------------------------- 5.610144138336182

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3351
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7005
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0452
------------------------- time cost ------------------------- 6.246416091918945
------------------------- time cost ------------------------- 5.62674355506897
------------------------- time cost ------------------------- 5.475959062576294
------------------------- time cost ------------------------- 5.579644203186035
------------------------- time cost ------------------------- 5.499316692352295
------------------------- time cost ------------------------- 5.532395362854004
------------------------- time cost ------------------------- 5.561858415603638
------------------------- time cost ------------------------- 5.554705858230591
------------------------- time cost ------------------------- 5.6104724407196045
------------------------- time cost ------------------------- 5.639269828796387

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3360
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7242
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0492
------------------------- time cost ------------------------- 6.350180625915527
------------------------- time cost ------------------------- 5.6512861251831055
------------------------- time cost ------------------------- 5.367471694946289
------------------------- time cost ------------------------- 5.526684284210205
------------------------- time cost ------------------------- 5.565746307373047
------------------------- time cost ------------------------- 5.528196811676025
------------------------- time cost ------------------------- 5.668242692947388
------------------------- time cost ------------------------- 5.619647264480591
------------------------- time cost ------------------------- 5.64005446434021
------------------------- time cost ------------------------- 5.498047113418579

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3339
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7529
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0628
------------------------- time cost ------------------------- 6.3224217891693115
------------------------- time cost ------------------------- 5.661787748336792
------------------------- time cost ------------------------- 5.555727481842041
------------------------- time cost ------------------------- 5.306960821151733
------------------------- time cost ------------------------- 5.560115575790405
------------------------- time cost ------------------------- 5.557826042175293
------------------------- time cost ------------------------- 5.569547653198242
------------------------- time cost ------------------------- 5.500541925430298
------------------------- time cost ------------------------- 5.399971961975098
------------------------- time cost ------------------------- 5.322469711303711

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3360
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7741
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0649
------------------------- time cost ------------------------- 6.412362813949585
------------------------- time cost ------------------------- 5.5481789112091064
------------------------- time cost ------------------------- 5.599700212478638
------------------------- time cost ------------------------- 5.511545896530151
------------------------- time cost ------------------------- 5.538522243499756
------------------------- time cost ------------------------- 5.55197286605835
------------------------- time cost ------------------------- 5.51470422744751
------------------------- time cost ------------------------- 5.539937257766724
------------------------- time cost ------------------------- 5.484186410903931
------------------------- time cost ------------------------- 5.4656829833984375

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3352
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7904
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0669
------------------------- time cost ------------------------- 6.2551915645599365
------------------------- time cost ------------------------- 5.923926591873169
------------------------- time cost ------------------------- 5.363627910614014
------------------------- time cost ------------------------- 5.893517255783081
------------------------- time cost ------------------------- 5.6828930377960205
------------------------- time cost ------------------------- 5.375960826873779
------------------------- time cost ------------------------- 5.633692502975464
------------------------- time cost ------------------------- 5.601276874542236
------------------------- time cost ------------------------- 5.419674873352051
------------------------- time cost ------------------------- 5.679042816162109

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3348
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8036
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0661
------------------------- time cost ------------------------- 6.344748020172119
------------------------- time cost ------------------------- 5.57784628868103
------------------------- time cost ------------------------- 5.4884419441223145
------------------------- time cost ------------------------- 5.478452920913696
------------------------- time cost ------------------------- 5.678854703903198
------------------------- time cost ------------------------- 5.664820671081543
------------------------- time cost ------------------------- 5.5379204750061035
------------------------- time cost ------------------------- 5.6378607749938965
------------------------- time cost ------------------------- 5.659244537353516
------------------------- time cost ------------------------- 5.699641466140747

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3297
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8169
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0609
------------------------- time cost ------------------------- 6.372753858566284

Best accuracy.
0.9147651006711409

Average time cost per round.
5.63394740819931
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 571.84秒
