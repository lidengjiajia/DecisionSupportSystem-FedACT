实验: Xinwang_iid_label_flip_RFA_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-25 00:48:55
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity iid --enable_attack True --attack_mode label_flip --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: iid
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: label_flip
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 6.358231782913208
------------------------- time cost ------------------------- 5.493849754333496
------------------------- time cost ------------------------- 5.5408453941345215
------------------------- time cost ------------------------- 5.660540819168091
------------------------- time cost ------------------------- 5.392439365386963
------------------------- time cost ------------------------- 5.463320732116699
------------------------- time cost ------------------------- 5.558399677276611
------------------------- time cost ------------------------- 5.562476634979248
------------------------- time cost ------------------------- 5.45662260055542
------------------------- time cost ------------------------- 5.5461671352386475

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3483
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5774
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1296
------------------------- time cost ------------------------- 6.433873891830444
------------------------- time cost ------------------------- 5.673968076705933
------------------------- time cost ------------------------- 5.374199151992798
------------------------- time cost ------------------------- 5.3774733543396
------------------------- time cost ------------------------- 5.353261470794678
------------------------- time cost ------------------------- 5.365570545196533
------------------------- time cost ------------------------- 5.431212902069092
------------------------- time cost ------------------------- 5.604182720184326
------------------------- time cost ------------------------- 5.414168357849121
------------------------- time cost ------------------------- 5.339256286621094

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3366
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6032
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1003
------------------------- time cost ------------------------- 6.256357431411743
------------------------- time cost ------------------------- 5.4570631980896
------------------------- time cost ------------------------- 5.499989986419678
------------------------- time cost ------------------------- 5.4252777099609375
------------------------- time cost ------------------------- 5.597784757614136
------------------------- time cost ------------------------- 5.263726711273193
------------------------- time cost ------------------------- 5.340148448944092
------------------------- time cost ------------------------- 5.477967262268066
------------------------- time cost ------------------------- 5.346717119216919
------------------------- time cost ------------------------- 5.372191905975342

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3345
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6465
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0810
------------------------- time cost ------------------------- 6.218246698379517
------------------------- time cost ------------------------- 5.52340292930603
------------------------- time cost ------------------------- 5.403356552124023
------------------------- time cost ------------------------- 5.387693166732788
------------------------- time cost ------------------------- 5.548742294311523
------------------------- time cost ------------------------- 5.321318626403809
------------------------- time cost ------------------------- 5.409322261810303
------------------------- time cost ------------------------- 5.356594085693359
------------------------- time cost ------------------------- 5.362275123596191
------------------------- time cost ------------------------- 5.5151684284210205

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3334
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7007
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0533
------------------------- time cost ------------------------- 6.0614707469940186
------------------------- time cost ------------------------- 5.399383783340454
------------------------- time cost ------------------------- 5.428632020950317
------------------------- time cost ------------------------- 5.4040021896362305
------------------------- time cost ------------------------- 5.530597448348999
------------------------- time cost ------------------------- 5.345256805419922
------------------------- time cost ------------------------- 5.367733001708984
------------------------- time cost ------------------------- 5.313840627670288
------------------------- time cost ------------------------- 5.429629325866699
------------------------- time cost ------------------------- 5.295529842376709

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3366
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7312
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0630
------------------------- time cost ------------------------- 6.070314407348633
------------------------- time cost ------------------------- 5.344049692153931
------------------------- time cost ------------------------- 5.5010786056518555
------------------------- time cost ------------------------- 5.353957414627075
------------------------- time cost ------------------------- 5.418804407119751
------------------------- time cost ------------------------- 5.477777719497681
------------------------- time cost ------------------------- 5.4536590576171875
------------------------- time cost ------------------------- 5.4554524421691895
------------------------- time cost ------------------------- 5.297861814498901
------------------------- time cost ------------------------- 5.543427467346191

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3350
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7568
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0675
------------------------- time cost ------------------------- 6.127222061157227
------------------------- time cost ------------------------- 5.350412845611572
------------------------- time cost ------------------------- 5.325464248657227
------------------------- time cost ------------------------- 5.392007350921631
------------------------- time cost ------------------------- 5.41105055809021
------------------------- time cost ------------------------- 5.3008246421813965
------------------------- time cost ------------------------- 5.343948841094971
------------------------- time cost ------------------------- 5.268317699432373
------------------------- time cost ------------------------- 5.27849817276001
------------------------- time cost ------------------------- 5.363964319229126

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3345
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7735
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0703
------------------------- time cost ------------------------- 6.143319606781006
------------------------- time cost ------------------------- 5.310567378997803
------------------------- time cost ------------------------- 5.385020017623901
------------------------- time cost ------------------------- 5.3221275806427
------------------------- time cost ------------------------- 5.4781224727630615
------------------------- time cost ------------------------- 5.2889180183410645
------------------------- time cost ------------------------- 5.399731159210205
------------------------- time cost ------------------------- 5.359147071838379
------------------------- time cost ------------------------- 5.369616985321045
------------------------- time cost ------------------------- 5.446080684661865

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3336
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7881
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0683
------------------------- time cost ------------------------- 6.139503479003906
------------------------- time cost ------------------------- 5.391011714935303
------------------------- time cost ------------------------- 5.476705551147461
------------------------- time cost ------------------------- 5.590674877166748
------------------------- time cost ------------------------- 5.5910069942474365
------------------------- time cost ------------------------- 5.405165672302246
------------------------- time cost ------------------------- 5.369433641433716
------------------------- time cost ------------------------- 5.387155771255493
------------------------- time cost ------------------------- 5.420588970184326
------------------------- time cost ------------------------- 5.422153472900391

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3351
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8057
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0630
------------------------- time cost ------------------------- 6.190271377563477
------------------------- time cost ------------------------- 5.462014436721802
------------------------- time cost ------------------------- 5.330098390579224
------------------------- time cost ------------------------- 5.597905397415161
------------------------- time cost ------------------------- 5.560159921646118
------------------------- time cost ------------------------- 5.559088230133057
------------------------- time cost ------------------------- 5.439992427825928
------------------------- time cost ------------------------- 5.417733192443848
------------------------- time cost ------------------------- 5.439589500427246
------------------------- time cost ------------------------- 5.4351911544799805

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3315
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8198
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0648
------------------------- time cost ------------------------- 6.317701101303101

Best accuracy.
0.9147651006711409

Average time cost per round.
5.502251393795014
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 557.85秒
