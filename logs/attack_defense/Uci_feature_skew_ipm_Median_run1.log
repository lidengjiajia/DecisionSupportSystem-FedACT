实验: Uci_feature_skew_ipm_Median_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-24 23:48:39
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity feature_skew --enable_attack True --attack_mode ipm --malicious_ratio 0.3 --defense_mode median --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: feature_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: ipm
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: median
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.864201784133911
------------------------- time cost ------------------------- 6.336065769195557
------------------------- time cost ------------------------- 6.318408012390137
------------------------- time cost ------------------------- 6.317771911621094
------------------------- time cost ------------------------- 5.973086833953857
------------------------- time cost ------------------------- 5.871493101119995
------------------------- time cost ------------------------- 5.773128986358643
------------------------- time cost ------------------------- 6.022331476211548
------------------------- time cost ------------------------- 6.267721891403198
------------------------- time cost ------------------------- 6.421969413757324

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4956
Averaged Test Accuracy: 0.7401
Averaged Test AUC: 0.7417
Averaged Test Precision: 0.7030
Averaged Test Recall: 0.7401
Averaged Test F1-Score: 0.6459
Std Test Accuracy: 0.1022
Std Test AUC: 0.0624
------------------------- time cost ------------------------- 7.54041600227356
------------------------- time cost ------------------------- 6.567450523376465
------------------------- time cost ------------------------- 6.27562403678894
------------------------- time cost ------------------------- 6.2800397872924805
------------------------- time cost ------------------------- 6.501833438873291
------------------------- time cost ------------------------- 6.274179220199585
------------------------- time cost ------------------------- 6.3148274421691895
------------------------- time cost ------------------------- 6.191280364990234
------------------------- time cost ------------------------- 6.25658106803894
------------------------- time cost ------------------------- 6.372280836105347

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4746
Averaged Test Accuracy: 0.7776
Averaged Test AUC: 0.7545
Averaged Test Precision: 0.7730
Averaged Test Recall: 0.7776
Averaged Test F1-Score: 0.7417
Std Test Accuracy: 0.0804
Std Test AUC: 0.0612
------------------------- time cost ------------------------- 7.441345453262329
------------------------- time cost ------------------------- 6.413272857666016
------------------------- time cost ------------------------- 6.292270183563232
------------------------- time cost ------------------------- 6.140379190444946
------------------------- time cost ------------------------- 6.3305418491363525
------------------------- time cost ------------------------- 6.243878364562988
------------------------- time cost ------------------------- 6.237928867340088
------------------------- time cost ------------------------- 6.319366693496704
------------------------- time cost ------------------------- 6.280166149139404
------------------------- time cost ------------------------- 6.295813322067261

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4707
Averaged Test Accuracy: 0.7797
Averaged Test AUC: 0.7618
Averaged Test Precision: 0.7736
Averaged Test Recall: 0.7797
Averaged Test F1-Score: 0.7492
Std Test Accuracy: 0.0777
Std Test AUC: 0.0592
------------------------- time cost ------------------------- 7.594742774963379
------------------------- time cost ------------------------- 6.4314892292022705
------------------------- time cost ------------------------- 6.4162750244140625
------------------------- time cost ------------------------- 6.234931707382202
------------------------- time cost ------------------------- 6.3919501304626465
------------------------- time cost ------------------------- 6.396266460418701
------------------------- time cost ------------------------- 6.360461235046387
------------------------- time cost ------------------------- 6.306628227233887
------------------------- time cost ------------------------- 6.347107648849487
------------------------- time cost ------------------------- 6.294459581375122

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4701
Averaged Test Accuracy: 0.7795
Averaged Test AUC: 0.7648
Averaged Test Precision: 0.7747
Averaged Test Recall: 0.7795
Averaged Test F1-Score: 0.7484
Std Test Accuracy: 0.0766
Std Test AUC: 0.0586
------------------------- time cost ------------------------- 7.292738914489746
------------------------- time cost ------------------------- 6.501407861709595
------------------------- time cost ------------------------- 6.317659378051758
------------------------- time cost ------------------------- 6.409403085708618
------------------------- time cost ------------------------- 6.3347697257995605
------------------------- time cost ------------------------- 6.504983425140381
------------------------- time cost ------------------------- 6.309469223022461
------------------------- time cost ------------------------- 6.305413722991943
------------------------- time cost ------------------------- 6.30352783203125
------------------------- time cost ------------------------- 6.362074375152588

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4685
Averaged Test Accuracy: 0.7877
Averaged Test AUC: 0.7674
Averaged Test Precision: 0.7811
Averaged Test Recall: 0.7877
Averaged Test F1-Score: 0.7641
Std Test Accuracy: 0.0665
Std Test AUC: 0.0571
------------------------- time cost ------------------------- 7.603601455688477
------------------------- time cost ------------------------- 6.457149267196655
------------------------- time cost ------------------------- 6.286283254623413
------------------------- time cost ------------------------- 6.322848081588745
------------------------- time cost ------------------------- 6.356663942337036
------------------------- time cost ------------------------- 6.340483665466309
------------------------- time cost ------------------------- 6.237276792526245
------------------------- time cost ------------------------- 6.265619516372681
------------------------- time cost ------------------------- 6.328866243362427
------------------------- time cost ------------------------- 6.302036285400391

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4671
Averaged Test Accuracy: 0.7861
Averaged Test AUC: 0.7690
Averaged Test Precision: 0.7798
Averaged Test Recall: 0.7861
Averaged Test F1-Score: 0.7602
Std Test Accuracy: 0.0684
Std Test AUC: 0.0554
------------------------- time cost ------------------------- 7.422624111175537
------------------------- time cost ------------------------- 6.406351089477539
------------------------- time cost ------------------------- 6.143314361572266
------------------------- time cost ------------------------- 6.28088116645813
------------------------- time cost ------------------------- 6.368757009506226
------------------------- time cost ------------------------- 6.371308326721191
------------------------- time cost ------------------------- 6.321345806121826
------------------------- time cost ------------------------- 6.27043080329895
------------------------- time cost ------------------------- 6.2526116371154785
------------------------- time cost ------------------------- 6.163885116577148

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4660
Averaged Test Accuracy: 0.7879
Averaged Test AUC: 0.7704
Averaged Test Precision: 0.7800
Averaged Test Recall: 0.7879
Averaged Test F1-Score: 0.7643
Std Test Accuracy: 0.0665
Std Test AUC: 0.0549
------------------------- time cost ------------------------- 7.58913254737854
------------------------- time cost ------------------------- 6.488255262374878
------------------------- time cost ------------------------- 6.154759883880615
------------------------- time cost ------------------------- 6.276659965515137
------------------------- time cost ------------------------- 6.279769420623779
------------------------- time cost ------------------------- 6.323672771453857
------------------------- time cost ------------------------- 6.262476205825806
------------------------- time cost ------------------------- 6.1989991664886475
------------------------- time cost ------------------------- 6.17125129699707
------------------------- time cost ------------------------- 6.129101514816284

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4673
Averaged Test Accuracy: 0.7832
Averaged Test AUC: 0.7714
Averaged Test Precision: 0.7781
Averaged Test Recall: 0.7832
Averaged Test F1-Score: 0.7574
Std Test Accuracy: 0.0701
Std Test AUC: 0.0539
------------------------- time cost ------------------------- 7.41619086265564
------------------------- time cost ------------------------- 6.3630595207214355
------------------------- time cost ------------------------- 6.154853582382202
------------------------- time cost ------------------------- 6.238724946975708
------------------------- time cost ------------------------- 6.15644383430481
------------------------- time cost ------------------------- 6.378187656402588
------------------------- time cost ------------------------- 6.260958671569824
------------------------- time cost ------------------------- 6.266888380050659
------------------------- time cost ------------------------- 6.1514246463775635
------------------------- time cost ------------------------- 6.326132774353027

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4666
Averaged Test Accuracy: 0.7849
Averaged Test AUC: 0.7728
Averaged Test Precision: 0.7793
Averaged Test Recall: 0.7849
Averaged Test F1-Score: 0.7593
Std Test Accuracy: 0.0708
Std Test AUC: 0.0528
------------------------- time cost ------------------------- 7.352849721908569
------------------------- time cost ------------------------- 6.312235355377197
------------------------- time cost ------------------------- 6.148954391479492
------------------------- time cost ------------------------- 6.346877813339233
------------------------- time cost ------------------------- 6.299535751342773
------------------------- time cost ------------------------- 6.296216249465942
------------------------- time cost ------------------------- 6.349050998687744
------------------------- time cost ------------------------- 5.966132879257202
------------------------- time cost ------------------------- 5.936470031738281
------------------------- time cost ------------------------- 6.212001085281372

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4655
Averaged Test Accuracy: 0.7852
Averaged Test AUC: 0.7724
Averaged Test Precision: 0.7792
Averaged Test Recall: 0.7852
Averaged Test F1-Score: 0.7622
Std Test Accuracy: 0.0653
Std Test AUC: 0.0539
------------------------- time cost ------------------------- 7.4814653396606445

Best accuracy.
0.7878666666666667

Average time cost per round.
6.40078283071518
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 649.25秒
