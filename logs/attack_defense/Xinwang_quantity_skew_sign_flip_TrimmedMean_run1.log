实验: Xinwang_quantity_skew_sign_flip_TrimmedMean_run1
物理GPU ID: 3
CUDA_VISIBLE_DEVICES: 3
时间: 2026-01-25 01:46:40
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity quantity_skew --enable_attack True --attack_mode sign_flip --malicious_ratio 0.3 --defense_mode trimmed_mean --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=3
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: quantity_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: sign_flip
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: trimmed_mean
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 6.5258965492248535
------------------------- time cost ------------------------- 5.541808366775513
------------------------- time cost ------------------------- 5.580896615982056
------------------------- time cost ------------------------- 5.591677188873291
------------------------- time cost ------------------------- 5.355631589889526
------------------------- time cost ------------------------- 5.5604493618011475
------------------------- time cost ------------------------- 5.3867716789245605
------------------------- time cost ------------------------- 5.300621747970581
------------------------- time cost ------------------------- 5.410924196243286
------------------------- time cost ------------------------- 5.382488489151001

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3476
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5834
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1466
------------------------- time cost ------------------------- 6.411503791809082
------------------------- time cost ------------------------- 5.533509731292725
------------------------- time cost ------------------------- 5.476206541061401
------------------------- time cost ------------------------- 5.469875335693359
------------------------- time cost ------------------------- 5.514369010925293
------------------------- time cost ------------------------- 5.6029603481292725
------------------------- time cost ------------------------- 5.325678586959839
------------------------- time cost ------------------------- 5.435071229934692
------------------------- time cost ------------------------- 5.4319069385528564
------------------------- time cost ------------------------- 5.435018301010132

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3357
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6118
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0958
------------------------- time cost ------------------------- 6.271754264831543
------------------------- time cost ------------------------- 5.50139045715332
------------------------- time cost ------------------------- 5.546680212020874
------------------------- time cost ------------------------- 5.445559024810791
------------------------- time cost ------------------------- 5.332917928695679
------------------------- time cost ------------------------- 5.4417479038238525
------------------------- time cost ------------------------- 5.3866472244262695
------------------------- time cost ------------------------- 5.407336711883545
------------------------- time cost ------------------------- 5.440510511398315
------------------------- time cost ------------------------- 5.5866053104400635

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3338
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6515
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0641
------------------------- time cost ------------------------- 6.2958924770355225
------------------------- time cost ------------------------- 5.459091901779175
------------------------- time cost ------------------------- 5.538004159927368
------------------------- time cost ------------------------- 5.494006395339966
------------------------- time cost ------------------------- 5.45766806602478
------------------------- time cost ------------------------- 5.422024488449097
------------------------- time cost ------------------------- 5.466449737548828
------------------------- time cost ------------------------- 5.444515705108643
------------------------- time cost ------------------------- 5.498733282089233
------------------------- time cost ------------------------- 5.541567325592041

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3338
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6958
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0477
------------------------- time cost ------------------------- 6.208089590072632
------------------------- time cost ------------------------- 5.560877561569214
------------------------- time cost ------------------------- 5.555692195892334
------------------------- time cost ------------------------- 5.4901275634765625
------------------------- time cost ------------------------- 5.4219069480896
------------------------- time cost ------------------------- 5.3409929275512695
------------------------- time cost ------------------------- 5.4502339363098145
------------------------- time cost ------------------------- 5.333962917327881
------------------------- time cost ------------------------- 5.571908473968506
------------------------- time cost ------------------------- 5.378525257110596

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3366
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7340
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0576
------------------------- time cost ------------------------- 6.14738130569458
------------------------- time cost ------------------------- 5.4536192417144775
------------------------- time cost ------------------------- 5.52428412437439
------------------------- time cost ------------------------- 5.462893962860107
------------------------- time cost ------------------------- 5.538815021514893
------------------------- time cost ------------------------- 5.426375150680542
------------------------- time cost ------------------------- 5.559743404388428
------------------------- time cost ------------------------- 5.465423583984375
------------------------- time cost ------------------------- 5.267582178115845
------------------------- time cost ------------------------- 5.4629065990448

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3360
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7588
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0640
------------------------- time cost ------------------------- 6.2406532764434814
------------------------- time cost ------------------------- 5.440816879272461
------------------------- time cost ------------------------- 5.477567911148071
------------------------- time cost ------------------------- 5.563114881515503
------------------------- time cost ------------------------- 5.4603636264801025
------------------------- time cost ------------------------- 5.3665430545806885
------------------------- time cost ------------------------- 5.400650262832642
------------------------- time cost ------------------------- 5.555576801300049
------------------------- time cost ------------------------- 5.513702392578125
------------------------- time cost ------------------------- 5.481428861618042

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3393
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7711
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0702
------------------------- time cost ------------------------- 6.095453977584839
------------------------- time cost ------------------------- 5.506916522979736
------------------------- time cost ------------------------- 5.449310064315796
------------------------- time cost ------------------------- 5.47360634803772
------------------------- time cost ------------------------- 5.395198345184326
------------------------- time cost ------------------------- 5.452839136123657
------------------------- time cost ------------------------- 5.4144346714019775
------------------------- time cost ------------------------- 5.4409825801849365
------------------------- time cost ------------------------- 5.46695351600647
------------------------- time cost ------------------------- 5.571910619735718

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3379
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7852
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0644
------------------------- time cost ------------------------- 6.233222484588623
------------------------- time cost ------------------------- 5.498248100280762
------------------------- time cost ------------------------- 5.274270296096802
------------------------- time cost ------------------------- 5.805788993835449
------------------------- time cost ------------------------- 5.389049768447876
------------------------- time cost ------------------------- 5.684432029724121
------------------------- time cost ------------------------- 5.41612982749939
------------------------- time cost ------------------------- 5.4385459423065186
------------------------- time cost ------------------------- 5.254571199417114
------------------------- time cost ------------------------- 5.21225643157959

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3354
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8035
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0689
------------------------- time cost ------------------------- 5.710702419281006
------------------------- time cost ------------------------- 5.384497165679932
------------------------- time cost ------------------------- 5.825909376144409
------------------------- time cost ------------------------- 5.442430019378662
------------------------- time cost ------------------------- 5.513313293457031
------------------------- time cost ------------------------- 5.492147207260132
------------------------- time cost ------------------------- 5.530848026275635
------------------------- time cost ------------------------- 5.504969835281372
------------------------- time cost ------------------------- 5.456156253814697
------------------------- time cost ------------------------- 5.4768218994140625

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3335
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8208
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0635
------------------------- time cost ------------------------- 6.42062520980835

Best accuracy.
0.9147651006711409

Average time cost per round.
5.540807735919953
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 562.03秒
