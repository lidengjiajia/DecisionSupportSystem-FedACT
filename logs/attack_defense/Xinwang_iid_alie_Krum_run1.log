实验: Xinwang_iid_alie_Krum_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-25 00:31:13
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity iid --enable_attack True --attack_mode alie --malicious_ratio 0.3 --defense_mode krum --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: iid
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: alie
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: krum
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 6.473208427429199
------------------------- time cost ------------------------- 5.523115158081055
------------------------- time cost ------------------------- 5.28759765625
------------------------- time cost ------------------------- 5.488365173339844
------------------------- time cost ------------------------- 5.4001054763793945
------------------------- time cost ------------------------- 5.5311853885650635
------------------------- time cost ------------------------- 5.5539350509643555
------------------------- time cost ------------------------- 5.419823169708252
------------------------- time cost ------------------------- 5.3618316650390625
------------------------- time cost ------------------------- 5.353318929672241

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3463
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5578
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1132
------------------------- time cost ------------------------- 6.134288311004639
------------------------- time cost ------------------------- 5.570316553115845
------------------------- time cost ------------------------- 5.3889336585998535
------------------------- time cost ------------------------- 5.329745531082153
------------------------- time cost ------------------------- 5.285454750061035
------------------------- time cost ------------------------- 5.527946472167969
------------------------- time cost ------------------------- 5.577976703643799
------------------------- time cost ------------------------- 5.401073455810547
------------------------- time cost ------------------------- 5.376081705093384
------------------------- time cost ------------------------- 5.337887763977051

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3385
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6058
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1089
------------------------- time cost ------------------------- 6.291918754577637
------------------------- time cost ------------------------- 5.370495319366455
------------------------- time cost ------------------------- 5.420156002044678
------------------------- time cost ------------------------- 5.353363990783691
------------------------- time cost ------------------------- 5.395305633544922
------------------------- time cost ------------------------- 5.4673919677734375
------------------------- time cost ------------------------- 5.400342702865601
------------------------- time cost ------------------------- 5.3342084884643555
------------------------- time cost ------------------------- 5.442387104034424
------------------------- time cost ------------------------- 5.394103765487671

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3356
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6631
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0611
------------------------- time cost ------------------------- 6.279247999191284
------------------------- time cost ------------------------- 5.5954718589782715
------------------------- time cost ------------------------- 5.391623020172119
------------------------- time cost ------------------------- 5.439716815948486
------------------------- time cost ------------------------- 5.361161231994629
------------------------- time cost ------------------------- 5.362312078475952
------------------------- time cost ------------------------- 5.384199142456055
------------------------- time cost ------------------------- 5.439059257507324
------------------------- time cost ------------------------- 5.382127285003662
------------------------- time cost ------------------------- 5.46737003326416

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3362
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6873
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0437
------------------------- time cost ------------------------- 6.2915239334106445
------------------------- time cost ------------------------- 5.318373203277588
------------------------- time cost ------------------------- 5.481463670730591
------------------------- time cost ------------------------- 5.322540283203125
------------------------- time cost ------------------------- 5.389436483383179
------------------------- time cost ------------------------- 5.395374536514282
------------------------- time cost ------------------------- 5.47035551071167
------------------------- time cost ------------------------- 5.414850950241089
------------------------- time cost ------------------------- 5.24372673034668
------------------------- time cost ------------------------- 5.417512655258179

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3379
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7205
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0504
------------------------- time cost ------------------------- 6.203157901763916
------------------------- time cost ------------------------- 5.383777141571045
------------------------- time cost ------------------------- 5.442717790603638
------------------------- time cost ------------------------- 5.36264967918396
------------------------- time cost ------------------------- 5.410231590270996
------------------------- time cost ------------------------- 5.46869158744812
------------------------- time cost ------------------------- 5.566722869873047
------------------------- time cost ------------------------- 5.4696924686431885
------------------------- time cost ------------------------- 5.470773696899414
------------------------- time cost ------------------------- 5.338849782943726

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3361
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7525
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0595
------------------------- time cost ------------------------- 6.175619125366211
------------------------- time cost ------------------------- 5.361323356628418
------------------------- time cost ------------------------- 5.426463842391968
------------------------- time cost ------------------------- 5.389279842376709
------------------------- time cost ------------------------- 5.411610841751099
------------------------- time cost ------------------------- 5.502561330795288
------------------------- time cost ------------------------- 5.319474697113037
------------------------- time cost ------------------------- 5.515735864639282
------------------------- time cost ------------------------- 5.442376375198364
------------------------- time cost ------------------------- 5.373722791671753

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3371
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7698
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0606
------------------------- time cost ------------------------- 6.2155914306640625
------------------------- time cost ------------------------- 5.398036241531372
------------------------- time cost ------------------------- 5.4212327003479
------------------------- time cost ------------------------- 5.418137311935425
------------------------- time cost ------------------------- 5.357845067977905
------------------------- time cost ------------------------- 5.4361162185668945
------------------------- time cost ------------------------- 5.4055469036102295
------------------------- time cost ------------------------- 5.510745525360107
------------------------- time cost ------------------------- 5.107070207595825
------------------------- time cost ------------------------- 5.076769113540649

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3374
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7774
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0550
------------------------- time cost ------------------------- 5.891141891479492
------------------------- time cost ------------------------- 4.920217514038086
------------------------- time cost ------------------------- 4.9356369972229
------------------------- time cost ------------------------- 5.593626022338867
------------------------- time cost ------------------------- 5.03131103515625
------------------------- time cost ------------------------- 5.478925943374634
------------------------- time cost ------------------------- 5.444268226623535
------------------------- time cost ------------------------- 5.12277889251709
------------------------- time cost ------------------------- 5.0863189697265625
------------------------- time cost ------------------------- 5.064151048660278

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3378
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7968
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0553
------------------------- time cost ------------------------- 6.102869987487793
------------------------- time cost ------------------------- 5.40962815284729
------------------------- time cost ------------------------- 5.287248134613037
------------------------- time cost ------------------------- 5.619214057922363
------------------------- time cost ------------------------- 5.354882717132568
------------------------- time cost ------------------------- 5.45719051361084
------------------------- time cost ------------------------- 5.5023698806762695
------------------------- time cost ------------------------- 5.267439126968384
------------------------- time cost ------------------------- 5.490965127944946
------------------------- time cost ------------------------- 5.359895706176758

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3352
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8182
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0637
------------------------- time cost ------------------------- 6.39745831489563

Best accuracy.
0.9147651006711409

Average time cost per round.
5.467661645412445
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 554.56秒
