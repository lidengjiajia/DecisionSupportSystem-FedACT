实验: Uci_quantity_skew_little_RFA_run1
物理GPU ID: 2
CUDA_VISIBLE_DEVICES: 2
时间: 2026-01-24 22:53:45
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity quantity_skew --enable_attack True --attack_mode little --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=2
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: quantity_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: little
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.016303539276123
------------------------- time cost ------------------------- 5.996572732925415
------------------------- time cost ------------------------- 6.254539489746094
------------------------- time cost ------------------------- 6.495469808578491
------------------------- time cost ------------------------- 6.800418138504028
------------------------- time cost ------------------------- 6.936420679092407
------------------------- time cost ------------------------- 6.832780122756958
------------------------- time cost ------------------------- 6.1874237060546875
------------------------- time cost ------------------------- 6.359896421432495
------------------------- time cost ------------------------- 6.287707805633545

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4954
Averaged Test Accuracy: 0.7408
Averaged Test AUC: 0.7425
Averaged Test Precision: 0.7300
Averaged Test Recall: 0.7408
Averaged Test F1-Score: 0.6474
Std Test Accuracy: 0.1014
Std Test AUC: 0.0614
------------------------- time cost ------------------------- 7.442901849746704
------------------------- time cost ------------------------- 6.337583065032959
------------------------- time cost ------------------------- 6.2553136348724365
------------------------- time cost ------------------------- 6.315917491912842
------------------------- time cost ------------------------- 6.382394313812256
------------------------- time cost ------------------------- 6.568478345870972
------------------------- time cost ------------------------- 6.397890567779541
------------------------- time cost ------------------------- 6.380491495132446
------------------------- time cost ------------------------- 6.395096063613892
------------------------- time cost ------------------------- 6.407487630844116

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4742
Averaged Test Accuracy: 0.7777
Averaged Test AUC: 0.7549
Averaged Test Precision: 0.7748
Averaged Test Recall: 0.7777
Averaged Test F1-Score: 0.7407
Std Test Accuracy: 0.0797
Std Test AUC: 0.0608
------------------------- time cost ------------------------- 7.4015586376190186
------------------------- time cost ------------------------- 6.26466178894043
------------------------- time cost ------------------------- 6.265996217727661
------------------------- time cost ------------------------- 6.437991380691528
------------------------- time cost ------------------------- 6.197309970855713
------------------------- time cost ------------------------- 6.4484686851501465
------------------------- time cost ------------------------- 6.31441855430603
------------------------- time cost ------------------------- 6.318178415298462
------------------------- time cost ------------------------- 6.277053594589233
------------------------- time cost ------------------------- 6.307698011398315

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4728
Averaged Test Accuracy: 0.7780
Averaged Test AUC: 0.7609
Averaged Test Precision: 0.7755
Averaged Test Recall: 0.7780
Averaged Test F1-Score: 0.7445
Std Test Accuracy: 0.0798
Std Test AUC: 0.0597
------------------------- time cost ------------------------- 7.445529460906982
------------------------- time cost ------------------------- 6.233628749847412
------------------------- time cost ------------------------- 6.447450637817383
------------------------- time cost ------------------------- 6.304342269897461
------------------------- time cost ------------------------- 6.3367815017700195
------------------------- time cost ------------------------- 6.21267294883728
------------------------- time cost ------------------------- 6.344438552856445
------------------------- time cost ------------------------- 6.32158088684082
------------------------- time cost ------------------------- 6.341899156570435
------------------------- time cost ------------------------- 6.3792335987091064

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4699
Averaged Test Accuracy: 0.7773
Averaged Test AUC: 0.7653
Averaged Test Precision: 0.7751
Averaged Test Recall: 0.7773
Averaged Test F1-Score: 0.7433
Std Test Accuracy: 0.0793
Std Test AUC: 0.0577
------------------------- time cost ------------------------- 7.4337263107299805
------------------------- time cost ------------------------- 6.372844457626343
------------------------- time cost ------------------------- 6.357286691665649
------------------------- time cost ------------------------- 6.328303098678589
------------------------- time cost ------------------------- 6.377955198287964
------------------------- time cost ------------------------- 6.388587474822998
------------------------- time cost ------------------------- 6.4860053062438965
------------------------- time cost ------------------------- 6.2972495555877686
------------------------- time cost ------------------------- 6.291234254837036
------------------------- time cost ------------------------- 6.424851179122925

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4679
Averaged Test Accuracy: 0.7809
Averaged Test AUC: 0.7676
Averaged Test Precision: 0.7751
Averaged Test Recall: 0.7809
Averaged Test F1-Score: 0.7525
Std Test Accuracy: 0.0739
Std Test AUC: 0.0562
------------------------- time cost ------------------------- 7.486188173294067
------------------------- time cost ------------------------- 6.326018810272217
------------------------- time cost ------------------------- 6.284946918487549
------------------------- time cost ------------------------- 6.328275918960571
------------------------- time cost ------------------------- 6.432721138000488
------------------------- time cost ------------------------- 6.346139669418335
------------------------- time cost ------------------------- 6.275275230407715
------------------------- time cost ------------------------- 6.385056495666504
------------------------- time cost ------------------------- 6.244869709014893
------------------------- time cost ------------------------- 6.350075960159302

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4690
Averaged Test Accuracy: 0.7791
Averaged Test AUC: 0.7688
Averaged Test Precision: 0.7770
Averaged Test Recall: 0.7791
Averaged Test F1-Score: 0.7480
Std Test Accuracy: 0.0773
Std Test AUC: 0.0552
------------------------- time cost ------------------------- 7.424053907394409
------------------------- time cost ------------------------- 6.258242607116699
------------------------- time cost ------------------------- 6.299339056015015
------------------------- time cost ------------------------- 6.26190710067749
------------------------- time cost ------------------------- 6.28018856048584
------------------------- time cost ------------------------- 6.3718101978302
------------------------- time cost ------------------------- 6.331650972366333
------------------------- time cost ------------------------- 6.545594215393066
------------------------- time cost ------------------------- 6.278260946273804
------------------------- time cost ------------------------- 6.280923128128052

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4688
Averaged Test Accuracy: 0.7868
Averaged Test AUC: 0.7695
Averaged Test Precision: 0.7814
Averaged Test Recall: 0.7868
Averaged Test F1-Score: 0.7633
Std Test Accuracy: 0.0660
Std Test AUC: 0.0553
------------------------- time cost ------------------------- 7.429035186767578
------------------------- time cost ------------------------- 6.433118104934692
------------------------- time cost ------------------------- 6.286757469177246
------------------------- time cost ------------------------- 6.300062894821167
------------------------- time cost ------------------------- 6.30090594291687
------------------------- time cost ------------------------- 6.453672409057617
------------------------- time cost ------------------------- 6.236813068389893
------------------------- time cost ------------------------- 6.249347686767578
------------------------- time cost ------------------------- 6.564489126205444
------------------------- time cost ------------------------- 6.331135988235474

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4658
Averaged Test Accuracy: 0.7875
Averaged Test AUC: 0.7714
Averaged Test Precision: 0.7806
Averaged Test Recall: 0.7875
Averaged Test F1-Score: 0.7629
Std Test Accuracy: 0.0653
Std Test AUC: 0.0540
------------------------- time cost ------------------------- 7.398380517959595
------------------------- time cost ------------------------- 6.282260417938232
------------------------- time cost ------------------------- 6.4598095417022705
------------------------- time cost ------------------------- 6.3199028968811035
------------------------- time cost ------------------------- 6.322811126708984
------------------------- time cost ------------------------- 6.4079930782318115
------------------------- time cost ------------------------- 6.230391979217529
------------------------- time cost ------------------------- 6.352824926376343
------------------------- time cost ------------------------- 6.402408599853516
------------------------- time cost ------------------------- 6.275577068328857

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4660
Averaged Test Accuracy: 0.7833
Averaged Test AUC: 0.7725
Averaged Test Precision: 0.7788
Averaged Test Recall: 0.7833
Averaged Test F1-Score: 0.7555
Std Test Accuracy: 0.0718
Std Test AUC: 0.0528
------------------------- time cost ------------------------- 7.488434076309204
------------------------- time cost ------------------------- 6.268674612045288
------------------------- time cost ------------------------- 6.2129292488098145
------------------------- time cost ------------------------- 6.36644434928894
------------------------- time cost ------------------------- 6.277608394622803
------------------------- time cost ------------------------- 6.506493091583252
------------------------- time cost ------------------------- 6.216073274612427
------------------------- time cost ------------------------- 6.4084320068359375
------------------------- time cost ------------------------- 6.322011947631836
------------------------- time cost ------------------------- 6.472516775131226

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4658
Averaged Test Accuracy: 0.7839
Averaged Test AUC: 0.7739
Averaged Test Precision: 0.7802
Averaged Test Recall: 0.7839
Averaged Test F1-Score: 0.7576
Std Test Accuracy: 0.0728
Std Test AUC: 0.0517
------------------------- time cost ------------------------- 7.530563592910767

Best accuracy.
0.7874666666666666

Average time cost per round.
6.462931380271912
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 654.57秒
