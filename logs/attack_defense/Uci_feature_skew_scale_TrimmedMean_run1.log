实验: Uci_feature_skew_scale_TrimmedMean_run1
物理GPU ID: 1
CUDA_VISIBLE_DEVICES: 1
时间: 2026-01-24 23:37:46
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity feature_skew --enable_attack True --attack_mode scale --malicious_ratio 0.3 --defense_mode trimmed_mean --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=1
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: feature_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: scale
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: trimmed_mean
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.6188883781433105
------------------------- time cost ------------------------- 6.145492792129517
------------------------- time cost ------------------------- 6.138617038726807
------------------------- time cost ------------------------- 6.483964920043945
------------------------- time cost ------------------------- 6.528834104537964
------------------------- time cost ------------------------- 6.464463472366333
------------------------- time cost ------------------------- 6.314096689224243
------------------------- time cost ------------------------- 6.360421419143677
------------------------- time cost ------------------------- 6.457654714584351
------------------------- time cost ------------------------- 6.457424879074097

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4948
Averaged Test Accuracy: 0.7409
Averaged Test AUC: 0.7417
Averaged Test Precision: 0.7422
Averaged Test Recall: 0.7409
Averaged Test F1-Score: 0.6499
Std Test Accuracy: 0.1008
Std Test AUC: 0.0610
------------------------- time cost ------------------------- 7.306319236755371
------------------------- time cost ------------------------- 6.292781829833984
------------------------- time cost ------------------------- 6.4004294872283936
------------------------- time cost ------------------------- 6.389255523681641
------------------------- time cost ------------------------- 6.320399045944214
------------------------- time cost ------------------------- 6.505814075469971
------------------------- time cost ------------------------- 6.295400142669678
------------------------- time cost ------------------------- 6.359273195266724
------------------------- time cost ------------------------- 6.409290075302124
------------------------- time cost ------------------------- 6.249315500259399

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4760
Averaged Test Accuracy: 0.7771
Averaged Test AUC: 0.7548
Averaged Test Precision: 0.7770
Averaged Test Recall: 0.7771
Averaged Test F1-Score: 0.7393
Std Test Accuracy: 0.0844
Std Test AUC: 0.0610
------------------------- time cost ------------------------- 7.369611501693726
------------------------- time cost ------------------------- 6.473037242889404
------------------------- time cost ------------------------- 6.449573040008545
------------------------- time cost ------------------------- 6.476722955703735
------------------------- time cost ------------------------- 6.342332363128662
------------------------- time cost ------------------------- 6.6124420166015625
------------------------- time cost ------------------------- 6.472317695617676
------------------------- time cost ------------------------- 6.415423154830933
------------------------- time cost ------------------------- 6.442492961883545
------------------------- time cost ------------------------- 6.329272747039795

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4713
Averaged Test Accuracy: 0.7781
Averaged Test AUC: 0.7609
Averaged Test Precision: 0.7721
Averaged Test Recall: 0.7781
Averaged Test F1-Score: 0.7472
Std Test Accuracy: 0.0771
Std Test AUC: 0.0604
------------------------- time cost ------------------------- 7.5309388637542725
------------------------- time cost ------------------------- 6.220391273498535
------------------------- time cost ------------------------- 6.4366700649261475
------------------------- time cost ------------------------- 6.46116042137146
------------------------- time cost ------------------------- 6.438019037246704
------------------------- time cost ------------------------- 6.481508255004883
------------------------- time cost ------------------------- 6.497036933898926
------------------------- time cost ------------------------- 6.483530759811401
------------------------- time cost ------------------------- 6.428704500198364
------------------------- time cost ------------------------- 6.317175388336182

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4702
Averaged Test Accuracy: 0.7791
Averaged Test AUC: 0.7644
Averaged Test Precision: 0.7754
Averaged Test Recall: 0.7791
Averaged Test F1-Score: 0.7486
Std Test Accuracy: 0.0762
Std Test AUC: 0.0586
------------------------- time cost ------------------------- 7.488358974456787
------------------------- time cost ------------------------- 6.374267578125
------------------------- time cost ------------------------- 6.403282642364502
------------------------- time cost ------------------------- 6.366207838058472
------------------------- time cost ------------------------- 6.3214111328125
------------------------- time cost ------------------------- 6.450200080871582
------------------------- time cost ------------------------- 6.599554777145386
------------------------- time cost ------------------------- 6.508984565734863
------------------------- time cost ------------------------- 6.410210847854614
------------------------- time cost ------------------------- 6.327903985977173

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4695
Averaged Test Accuracy: 0.7828
Averaged Test AUC: 0.7672
Averaged Test Precision: 0.7786
Averaged Test Recall: 0.7828
Averaged Test F1-Score: 0.7550
Std Test Accuracy: 0.0755
Std Test AUC: 0.0570
------------------------- time cost ------------------------- 7.445573568344116
------------------------- time cost ------------------------- 6.490634441375732
------------------------- time cost ------------------------- 6.538512229919434
------------------------- time cost ------------------------- 6.466868877410889
------------------------- time cost ------------------------- 6.401603698730469
------------------------- time cost ------------------------- 6.472637176513672
------------------------- time cost ------------------------- 6.556274652481079
------------------------- time cost ------------------------- 6.594584941864014
------------------------- time cost ------------------------- 6.383444309234619
------------------------- time cost ------------------------- 6.404428958892822

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4682
Averaged Test Accuracy: 0.7840
Averaged Test AUC: 0.7687
Averaged Test Precision: 0.7779
Averaged Test Recall: 0.7840
Averaged Test F1-Score: 0.7573
Std Test Accuracy: 0.0698
Std Test AUC: 0.0556
------------------------- time cost ------------------------- 7.461163759231567
------------------------- time cost ------------------------- 6.50974178314209
------------------------- time cost ------------------------- 6.562714099884033
------------------------- time cost ------------------------- 6.405996799468994
------------------------- time cost ------------------------- 6.438641786575317
------------------------- time cost ------------------------- 6.395555257797241
------------------------- time cost ------------------------- 6.453221797943115
------------------------- time cost ------------------------- 6.749340057373047
------------------------- time cost ------------------------- 6.456120014190674
------------------------- time cost ------------------------- 6.463838338851929

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4669
Averaged Test Accuracy: 0.7876
Averaged Test AUC: 0.7707
Averaged Test Precision: 0.7812
Averaged Test Recall: 0.7876
Averaged Test F1-Score: 0.7628
Std Test Accuracy: 0.0686
Std Test AUC: 0.0535
------------------------- time cost ------------------------- 7.483161449432373
------------------------- time cost ------------------------- 6.589758634567261
------------------------- time cost ------------------------- 6.453622817993164
------------------------- time cost ------------------------- 6.449321508407593
------------------------- time cost ------------------------- 6.42218804359436
------------------------- time cost ------------------------- 6.421809911727905
------------------------- time cost ------------------------- 6.502171993255615
------------------------- time cost ------------------------- 6.481590986251831
------------------------- time cost ------------------------- 6.745589971542358
------------------------- time cost ------------------------- 6.392379522323608

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4676
Averaged Test Accuracy: 0.7824
Averaged Test AUC: 0.7713
Averaged Test Precision: 0.7779
Averaged Test Recall: 0.7824
Averaged Test F1-Score: 0.7556
Std Test Accuracy: 0.0715
Std Test AUC: 0.0537
------------------------- time cost ------------------------- 7.448825836181641
------------------------- time cost ------------------------- 6.537302732467651
------------------------- time cost ------------------------- 6.446582555770874
------------------------- time cost ------------------------- 6.456284046173096
------------------------- time cost ------------------------- 6.346349477767944
------------------------- time cost ------------------------- 6.445307970046997
------------------------- time cost ------------------------- 6.50807523727417
------------------------- time cost ------------------------- 6.458709239959717
------------------------- time cost ------------------------- 6.497542381286621
------------------------- time cost ------------------------- 6.398828506469727

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4673
Averaged Test Accuracy: 0.7848
Averaged Test AUC: 0.7721
Averaged Test Precision: 0.7800
Averaged Test Recall: 0.7848
Averaged Test F1-Score: 0.7592
Std Test Accuracy: 0.0683
Std Test AUC: 0.0529
------------------------- time cost ------------------------- 7.4751176834106445
------------------------- time cost ------------------------- 6.51993203163147
------------------------- time cost ------------------------- 6.431264877319336
------------------------- time cost ------------------------- 6.503406763076782
------------------------- time cost ------------------------- 6.44025993347168
------------------------- time cost ------------------------- 6.371770858764648
------------------------- time cost ------------------------- 6.520378351211548
------------------------- time cost ------------------------- 6.455448627471924
------------------------- time cost ------------------------- 6.365703582763672
------------------------- time cost ------------------------- 6.77302360534668

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4668
Averaged Test Accuracy: 0.7819
Averaged Test AUC: 0.7724
Averaged Test Precision: 0.7776
Averaged Test Recall: 0.7819
Averaged Test F1-Score: 0.7567
Std Test Accuracy: 0.0709
Std Test AUC: 0.0525
------------------------- time cost ------------------------- 7.355678081512451

Best accuracy.
0.7876

Average time cost per round.
6.541562755107879
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 663.07秒
