实验: Xinwang_quantity_skew_scale_MultiKrum_run1
物理GPU ID: 1
CUDA_VISIBLE_DEVICES: 1
时间: 2026-01-25 01:55:28
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity quantity_skew --enable_attack True --attack_mode scale --malicious_ratio 0.3 --defense_mode multi_krum --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=1
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: quantity_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: scale
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: multi_krum
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 6.322215557098389
------------------------- time cost ------------------------- 5.3663859367370605
------------------------- time cost ------------------------- 5.289000988006592
------------------------- time cost ------------------------- 5.432395696640015
------------------------- time cost ------------------------- 5.544196367263794
------------------------- time cost ------------------------- 5.335442304611206
------------------------- time cost ------------------------- 5.493521690368652
------------------------- time cost ------------------------- 5.479878187179565
------------------------- time cost ------------------------- 5.359770774841309
------------------------- time cost ------------------------- 5.436617136001587

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3469
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5569
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1299
------------------------- time cost ------------------------- 6.235252857208252
------------------------- time cost ------------------------- 5.410618782043457
------------------------- time cost ------------------------- 5.306215524673462
------------------------- time cost ------------------------- 5.304114103317261
------------------------- time cost ------------------------- 5.3612425327301025
------------------------- time cost ------------------------- 5.48281455039978
------------------------- time cost ------------------------- 5.470845937728882
------------------------- time cost ------------------------- 5.371824502944946
------------------------- time cost ------------------------- 5.368882656097412
------------------------- time cost ------------------------- 5.404110670089722

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3371
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5901
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1145
------------------------- time cost ------------------------- 6.1319496631622314
------------------------- time cost ------------------------- 5.417468070983887
------------------------- time cost ------------------------- 5.417043447494507
------------------------- time cost ------------------------- 5.428632497787476
------------------------- time cost ------------------------- 5.4070885181427
------------------------- time cost ------------------------- 5.5113420486450195
------------------------- time cost ------------------------- 5.461543321609497
------------------------- time cost ------------------------- 5.442553520202637
------------------------- time cost ------------------------- 5.488770246505737
------------------------- time cost ------------------------- 5.490089416503906

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3346
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6609
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0688
------------------------- time cost ------------------------- 6.085939884185791
------------------------- time cost ------------------------- 5.306593179702759
------------------------- time cost ------------------------- 5.362452983856201
------------------------- time cost ------------------------- 5.251506567001343
------------------------- time cost ------------------------- 5.445940971374512
------------------------- time cost ------------------------- 5.462775707244873
------------------------- time cost ------------------------- 5.481157302856445
------------------------- time cost ------------------------- 5.472190856933594
------------------------- time cost ------------------------- 5.417597532272339
------------------------- time cost ------------------------- 5.481280088424683

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3365
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6893
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0495
------------------------- time cost ------------------------- 6.264668703079224
------------------------- time cost ------------------------- 5.466085433959961
------------------------- time cost ------------------------- 5.401105165481567
------------------------- time cost ------------------------- 5.251911878585815
------------------------- time cost ------------------------- 5.3084022998809814
------------------------- time cost ------------------------- 5.295017719268799
------------------------- time cost ------------------------- 5.484950065612793
------------------------- time cost ------------------------- 5.502307415008545
------------------------- time cost ------------------------- 5.4504005908966064
------------------------- time cost ------------------------- 5.377654314041138

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3360
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7214
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0535
------------------------- time cost ------------------------- 6.201218843460083
------------------------- time cost ------------------------- 5.4673802852630615
------------------------- time cost ------------------------- 5.321720361709595
------------------------- time cost ------------------------- 5.36009955406189
------------------------- time cost ------------------------- 5.397721290588379
------------------------- time cost ------------------------- 5.445082187652588
------------------------- time cost ------------------------- 5.761577129364014
------------------------- time cost ------------------------- 5.327631950378418
------------------------- time cost ------------------------- 5.371880292892456
------------------------- time cost ------------------------- 5.4096999168396

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3358
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7526
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0659
------------------------- time cost ------------------------- 6.180956602096558
------------------------- time cost ------------------------- 5.289027690887451
------------------------- time cost ------------------------- 5.527638912200928
------------------------- time cost ------------------------- 5.292538166046143
------------------------- time cost ------------------------- 5.380803346633911
------------------------- time cost ------------------------- 5.253327369689941
------------------------- time cost ------------------------- 5.3829429149627686
------------------------- time cost ------------------------- 5.390451669692993
------------------------- time cost ------------------------- 5.350382566452026
------------------------- time cost ------------------------- 5.573362588882446

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3378
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7720
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0652
------------------------- time cost ------------------------- 6.169006824493408
------------------------- time cost ------------------------- 5.475788354873657
------------------------- time cost ------------------------- 5.334336757659912
------------------------- time cost ------------------------- 5.3893067836761475
------------------------- time cost ------------------------- 5.435426950454712
------------------------- time cost ------------------------- 5.3226704597473145
------------------------- time cost ------------------------- 5.496733903884888
------------------------- time cost ------------------------- 5.246975660324097
------------------------- time cost ------------------------- 5.262712717056274
------------------------- time cost ------------------------- 5.424856662750244

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3388
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7829
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0670
------------------------- time cost ------------------------- 6.2062530517578125
------------------------- time cost ------------------------- 5.0608954429626465
------------------------- time cost ------------------------- 5.134862422943115
------------------------- time cost ------------------------- 5.435855388641357
------------------------- time cost ------------------------- 5.383956670761108
------------------------- time cost ------------------------- 5.393767356872559
------------------------- time cost ------------------------- 5.458522081375122
------------------------- time cost ------------------------- 5.5155487060546875
------------------------- time cost ------------------------- 5.512089729309082
------------------------- time cost ------------------------- 5.605063438415527

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3351
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8032
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0694
------------------------- time cost ------------------------- 6.023036479949951
------------------------- time cost ------------------------- 5.499492168426514
------------------------- time cost ------------------------- 5.329286098480225
------------------------- time cost ------------------------- 5.251967668533325
------------------------- time cost ------------------------- 5.306540250778198
------------------------- time cost ------------------------- 5.156921625137329
------------------------- time cost ------------------------- 5.447674512863159
------------------------- time cost ------------------------- 5.444738149642944
------------------------- time cost ------------------------- 5.601761102676392
------------------------- time cost ------------------------- 5.402774810791016

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3321
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8240
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0737
------------------------- time cost ------------------------- 6.2999427318573

Best accuracy.
0.9147651006711409

Average time cost per round.
5.4793375921249385
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 555.62秒
