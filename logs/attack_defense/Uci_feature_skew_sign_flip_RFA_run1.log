实验: Uci_feature_skew_sign_flip_RFA_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-24 23:27:00
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity feature_skew --enable_attack True --attack_mode sign_flip --malicious_ratio 0.3 --defense_mode rfa --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: feature_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: sign_flip
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: rfa
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.178995847702026
------------------------- time cost ------------------------- 5.766837120056152
------------------------- time cost ------------------------- 5.52894926071167
------------------------- time cost ------------------------- 5.863872051239014
------------------------- time cost ------------------------- 5.9305031299591064
------------------------- time cost ------------------------- 6.024756193161011
------------------------- time cost ------------------------- 6.187403678894043
------------------------- time cost ------------------------- 6.158077955245972
------------------------- time cost ------------------------- 6.202116012573242
------------------------- time cost ------------------------- 6.269862651824951

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4952
Averaged Test Accuracy: 0.7421
Averaged Test AUC: 0.7413
Averaged Test Precision: 0.7298
Averaged Test Recall: 0.7421
Averaged Test F1-Score: 0.6523
Std Test Accuracy: 0.0998
Std Test AUC: 0.0627
------------------------- time cost ------------------------- 7.292388439178467
------------------------- time cost ------------------------- 6.204060316085815
------------------------- time cost ------------------------- 6.313127756118774
------------------------- time cost ------------------------- 6.161807537078857
------------------------- time cost ------------------------- 6.253835916519165
------------------------- time cost ------------------------- 6.401319742202759
------------------------- time cost ------------------------- 6.1131272315979
------------------------- time cost ------------------------- 6.1838719844818115
------------------------- time cost ------------------------- 6.163445472717285
------------------------- time cost ------------------------- 6.204629421234131

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4750
Averaged Test Accuracy: 0.7772
Averaged Test AUC: 0.7545
Averaged Test Precision: 0.7733
Averaged Test Recall: 0.7772
Averaged Test F1-Score: 0.7419
Std Test Accuracy: 0.0824
Std Test AUC: 0.0613
------------------------- time cost ------------------------- 7.362594127655029
------------------------- time cost ------------------------- 6.166823625564575
------------------------- time cost ------------------------- 6.243402004241943
------------------------- time cost ------------------------- 6.175267696380615
------------------------- time cost ------------------------- 6.223289728164673
------------------------- time cost ------------------------- 6.479769706726074
------------------------- time cost ------------------------- 6.175266981124878
------------------------- time cost ------------------------- 6.167970418930054
------------------------- time cost ------------------------- 6.185771703720093
------------------------- time cost ------------------------- 6.220007419586182

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4710
Averaged Test Accuracy: 0.7803
Averaged Test AUC: 0.7615
Averaged Test Precision: 0.7736
Averaged Test Recall: 0.7803
Averaged Test F1-Score: 0.7506
Std Test Accuracy: 0.0756
Std Test AUC: 0.0594
------------------------- time cost ------------------------- 7.358195066452026
------------------------- time cost ------------------------- 6.158592939376831
------------------------- time cost ------------------------- 6.21243691444397
------------------------- time cost ------------------------- 6.137478828430176
------------------------- time cost ------------------------- 6.248738527297974
------------------------- time cost ------------------------- 6.329085826873779
------------------------- time cost ------------------------- 6.276434659957886
------------------------- time cost ------------------------- 6.145587205886841
------------------------- time cost ------------------------- 6.178300619125366
------------------------- time cost ------------------------- 6.236289024353027

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4701
Averaged Test Accuracy: 0.7819
Averaged Test AUC: 0.7643
Averaged Test Precision: 0.7769
Averaged Test Recall: 0.7819
Averaged Test F1-Score: 0.7527
Std Test Accuracy: 0.0728
Std Test AUC: 0.0590
------------------------- time cost ------------------------- 7.2732343673706055
------------------------- time cost ------------------------- 6.202038288116455
------------------------- time cost ------------------------- 6.262749671936035
------------------------- time cost ------------------------- 6.070603609085083
------------------------- time cost ------------------------- 6.166410446166992
------------------------- time cost ------------------------- 6.352491855621338
------------------------- time cost ------------------------- 6.3777101039886475
------------------------- time cost ------------------------- 6.143556118011475
------------------------- time cost ------------------------- 6.2409281730651855
------------------------- time cost ------------------------- 6.196093320846558

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4677
Averaged Test Accuracy: 0.7867
Averaged Test AUC: 0.7670
Averaged Test Precision: 0.7788
Averaged Test Recall: 0.7867
Averaged Test F1-Score: 0.7615
Std Test Accuracy: 0.0670
Std Test AUC: 0.0568
------------------------- time cost ------------------------- 7.186940431594849
------------------------- time cost ------------------------- 6.179273843765259
------------------------- time cost ------------------------- 6.310831308364868
------------------------- time cost ------------------------- 6.1509411334991455
------------------------- time cost ------------------------- 6.127384901046753
------------------------- time cost ------------------------- 6.318992614746094
------------------------- time cost ------------------------- 6.175435543060303
------------------------- time cost ------------------------- 6.369482517242432
------------------------- time cost ------------------------- 6.2717444896698
------------------------- time cost ------------------------- 6.23111629486084

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4674
Averaged Test Accuracy: 0.7868
Averaged Test AUC: 0.7684
Averaged Test Precision: 0.7798
Averaged Test Recall: 0.7868
Averaged Test F1-Score: 0.7630
Std Test Accuracy: 0.0664
Std Test AUC: 0.0562
------------------------- time cost ------------------------- 7.440056085586548
------------------------- time cost ------------------------- 6.220995664596558
------------------------- time cost ------------------------- 6.211172580718994
------------------------- time cost ------------------------- 6.16091775894165
------------------------- time cost ------------------------- 6.236230373382568
------------------------- time cost ------------------------- 6.331370115280151
------------------------- time cost ------------------------- 6.275280237197876
------------------------- time cost ------------------------- 6.247081995010376
------------------------- time cost ------------------------- 6.278178691864014
------------------------- time cost ------------------------- 6.295271635055542

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4664
Averaged Test Accuracy: 0.7875
Averaged Test AUC: 0.7707
Averaged Test Precision: 0.7803
Averaged Test Recall: 0.7875
Averaged Test F1-Score: 0.7634
Std Test Accuracy: 0.0672
Std Test AUC: 0.0537
------------------------- time cost ------------------------- 7.386363744735718
------------------------- time cost ------------------------- 6.230092525482178
------------------------- time cost ------------------------- 6.220712661743164
------------------------- time cost ------------------------- 6.1474928855896
------------------------- time cost ------------------------- 6.184042930603027
------------------------- time cost ------------------------- 6.303894996643066
------------------------- time cost ------------------------- 6.185452699661255
------------------------- time cost ------------------------- 6.110705137252808
------------------------- time cost ------------------------- 6.279001474380493
------------------------- time cost ------------------------- 6.42141318321228

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4666
Averaged Test Accuracy: 0.7880
Averaged Test AUC: 0.7716
Averaged Test Precision: 0.7811
Averaged Test Recall: 0.7880
Averaged Test F1-Score: 0.7651
Std Test Accuracy: 0.0644
Std Test AUC: 0.0530
------------------------- time cost ------------------------- 7.387150526046753
------------------------- time cost ------------------------- 6.316974401473999
------------------------- time cost ------------------------- 6.240174293518066
------------------------- time cost ------------------------- 6.159957408905029
------------------------- time cost ------------------------- 6.214568614959717
------------------------- time cost ------------------------- 6.239090204238892
------------------------- time cost ------------------------- 6.2371039390563965
------------------------- time cost ------------------------- 6.211854457855225
------------------------- time cost ------------------------- 6.470494508743286
------------------------- time cost ------------------------- 6.167867183685303

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4675
Averaged Test Accuracy: 0.7795
Averaged Test AUC: 0.7724
Averaged Test Precision: 0.7768
Averaged Test Recall: 0.7795
Averaged Test F1-Score: 0.7505
Std Test Accuracy: 0.0784
Std Test AUC: 0.0528
------------------------- time cost ------------------------- 7.474842548370361
------------------------- time cost ------------------------- 6.3290934562683105
------------------------- time cost ------------------------- 6.296437501907349
------------------------- time cost ------------------------- 6.323073387145996
------------------------- time cost ------------------------- 6.268685340881348
------------------------- time cost ------------------------- 6.544621229171753
------------------------- time cost ------------------------- 6.524742841720581
------------------------- time cost ------------------------- 6.7653117179870605
------------------------- time cost ------------------------- 6.396543741226196
------------------------- time cost ------------------------- 6.041809797286987

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4698
Averaged Test Accuracy: 0.7732
Averaged Test AUC: 0.7716
Averaged Test Precision: 0.7744
Averaged Test Recall: 0.7732
Averaged Test F1-Score: 0.7399
Std Test Accuracy: 0.0833
Std Test AUC: 0.0532
------------------------- time cost ------------------------- 7.443548679351807

Best accuracy.
0.788

Average time cost per round.
6.3373292708396916
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 642.22秒
