实验: Uci_label_skew_free_rider_Krum_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-24 22:21:53
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity label_skew --enable_attack True --attack_mode free_rider --malicious_ratio 0.3 --defense_mode krum --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: label_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: free_rider
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: krum
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.520655870437622
------------------------- time cost ------------------------- 6.428477048873901
------------------------- time cost ------------------------- 6.302933692932129
------------------------- time cost ------------------------- 6.339112281799316
------------------------- time cost ------------------------- 6.613113164901733
------------------------- time cost ------------------------- 6.32358193397522
------------------------- time cost ------------------------- 6.3865578174591064
------------------------- time cost ------------------------- 6.446913242340088
------------------------- time cost ------------------------- 6.470681667327881
------------------------- time cost ------------------------- 6.294924020767212

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4953
Averaged Test Accuracy: 0.7401
Averaged Test AUC: 0.7418
Averaged Test Precision: 0.7073
Averaged Test Recall: 0.7401
Averaged Test F1-Score: 0.6461
Std Test Accuracy: 0.1011
Std Test AUC: 0.0617
------------------------- time cost ------------------------- 7.392008543014526
------------------------- time cost ------------------------- 6.37205958366394
------------------------- time cost ------------------------- 6.374166965484619
------------------------- time cost ------------------------- 6.248591661453247
------------------------- time cost ------------------------- 6.3933165073394775
------------------------- time cost ------------------------- 6.517074346542358
------------------------- time cost ------------------------- 6.447996616363525
------------------------- time cost ------------------------- 6.368010759353638
------------------------- time cost ------------------------- 6.475401401519775
------------------------- time cost ------------------------- 6.420640468597412

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4758
Averaged Test Accuracy: 0.7735
Averaged Test AUC: 0.7550
Averaged Test Precision: 0.7736
Averaged Test Recall: 0.7735
Averaged Test F1-Score: 0.7330
Std Test Accuracy: 0.0858
Std Test AUC: 0.0606
------------------------- time cost ------------------------- 7.4035515785217285
------------------------- time cost ------------------------- 6.32954216003418
------------------------- time cost ------------------------- 6.2926318645477295
------------------------- time cost ------------------------- 6.291418552398682
------------------------- time cost ------------------------- 6.42573618888855
------------------------- time cost ------------------------- 6.547373533248901
------------------------- time cost ------------------------- 6.491366863250732
------------------------- time cost ------------------------- 6.405186176300049
------------------------- time cost ------------------------- 6.336476564407349
------------------------- time cost ------------------------- 6.395243883132935

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4721
Averaged Test Accuracy: 0.7800
Averaged Test AUC: 0.7607
Averaged Test Precision: 0.7747
Averaged Test Recall: 0.7800
Averaged Test F1-Score: 0.7489
Std Test Accuracy: 0.0771
Std Test AUC: 0.0608
------------------------- time cost ------------------------- 7.4401326179504395
------------------------- time cost ------------------------- 6.467291355133057
------------------------- time cost ------------------------- 6.303708553314209
------------------------- time cost ------------------------- 6.423638343811035
------------------------- time cost ------------------------- 6.3801610469818115
------------------------- time cost ------------------------- 6.3484907150268555
------------------------- time cost ------------------------- 6.571329832077026
------------------------- time cost ------------------------- 6.329779624938965
------------------------- time cost ------------------------- 6.27651309967041
------------------------- time cost ------------------------- 6.29945707321167

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4682
Averaged Test Accuracy: 0.7848
Averaged Test AUC: 0.7647
Averaged Test Precision: 0.7772
Averaged Test Recall: 0.7848
Averaged Test F1-Score: 0.7577
Std Test Accuracy: 0.0703
Std Test AUC: 0.0586
------------------------- time cost ------------------------- 7.349619388580322
------------------------- time cost ------------------------- 6.251903295516968
------------------------- time cost ------------------------- 6.320459365844727
------------------------- time cost ------------------------- 6.312184810638428
------------------------- time cost ------------------------- 6.385519981384277
------------------------- time cost ------------------------- 6.37579345703125
------------------------- time cost ------------------------- 6.547236204147339
------------------------- time cost ------------------------- 6.4373438358306885
------------------------- time cost ------------------------- 6.370893955230713
------------------------- time cost ------------------------- 6.376646280288696

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4680
Averaged Test Accuracy: 0.7840
Averaged Test AUC: 0.7677
Averaged Test Precision: 0.7781
Averaged Test Recall: 0.7840
Averaged Test F1-Score: 0.7571
Std Test Accuracy: 0.0734
Std Test AUC: 0.0556
------------------------- time cost ------------------------- 7.364575147628784
------------------------- time cost ------------------------- 6.413867950439453
------------------------- time cost ------------------------- 6.188032627105713
------------------------- time cost ------------------------- 6.44102668762207
------------------------- time cost ------------------------- 6.4284772872924805
------------------------- time cost ------------------------- 6.371676683425903
------------------------- time cost ------------------------- 6.480074644088745
------------------------- time cost ------------------------- 6.382938861846924
------------------------- time cost ------------------------- 6.412145137786865
------------------------- time cost ------------------------- 6.254579067230225

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4673
Averaged Test Accuracy: 0.7841
Averaged Test AUC: 0.7691
Averaged Test Precision: 0.7774
Averaged Test Recall: 0.7841
Averaged Test F1-Score: 0.7590
Std Test Accuracy: 0.0687
Std Test AUC: 0.0550
------------------------- time cost ------------------------- 7.267174959182739
------------------------- time cost ------------------------- 6.329213380813599
------------------------- time cost ------------------------- 6.357583284378052
------------------------- time cost ------------------------- 6.3941216468811035
------------------------- time cost ------------------------- 6.494039535522461
------------------------- time cost ------------------------- 6.318070650100708
------------------------- time cost ------------------------- 6.503016471862793
------------------------- time cost ------------------------- 6.368681192398071
------------------------- time cost ------------------------- 6.309179067611694
------------------------- time cost ------------------------- 6.33319354057312

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4667
Averaged Test Accuracy: 0.7864
Averaged Test AUC: 0.7706
Averaged Test Precision: 0.7801
Averaged Test Recall: 0.7864
Averaged Test F1-Score: 0.7604
Std Test Accuracy: 0.0687
Std Test AUC: 0.0535
------------------------- time cost ------------------------- 7.466928482055664
------------------------- time cost ------------------------- 6.38666033744812
------------------------- time cost ------------------------- 6.307592153549194
------------------------- time cost ------------------------- 6.638051748275757
------------------------- time cost ------------------------- 6.445878744125366
------------------------- time cost ------------------------- 6.4341535568237305
------------------------- time cost ------------------------- 6.48095440864563
------------------------- time cost ------------------------- 6.414387226104736
------------------------- time cost ------------------------- 6.55458664894104
------------------------- time cost ------------------------- 6.258443832397461

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4665
Averaged Test Accuracy: 0.7864
Averaged Test AUC: 0.7713
Averaged Test Precision: 0.7796
Averaged Test Recall: 0.7864
Averaged Test F1-Score: 0.7620
Std Test Accuracy: 0.0660
Std Test AUC: 0.0537
------------------------- time cost ------------------------- 7.439627647399902
------------------------- time cost ------------------------- 6.458350419998169
------------------------- time cost ------------------------- 6.3778464794158936
------------------------- time cost ------------------------- 6.444153785705566
------------------------- time cost ------------------------- 6.389725685119629
------------------------- time cost ------------------------- 6.427151203155518
------------------------- time cost ------------------------- 6.374396324157715
------------------------- time cost ------------------------- 6.286968946456909
------------------------- time cost ------------------------- 6.475767374038696
------------------------- time cost ------------------------- 6.441601276397705

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4668
Averaged Test Accuracy: 0.7839
Averaged Test AUC: 0.7717
Averaged Test Precision: 0.7784
Averaged Test Recall: 0.7839
Averaged Test F1-Score: 0.7574
Std Test Accuracy: 0.0705
Std Test AUC: 0.0542
------------------------- time cost ------------------------- 7.333258628845215
------------------------- time cost ------------------------- 6.345313787460327
------------------------- time cost ------------------------- 6.530634641647339
------------------------- time cost ------------------------- 6.339782476425171
------------------------- time cost ------------------------- 6.543444395065308
------------------------- time cost ------------------------- 7.061619758605957
------------------------- time cost ------------------------- 6.883669376373291
------------------------- time cost ------------------------- 6.4518256187438965
------------------------- time cost ------------------------- 6.367215156555176
------------------------- time cost ------------------------- 6.694252014160156

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4660
Averaged Test Accuracy: 0.7812
Averaged Test AUC: 0.7733
Averaged Test Precision: 0.7774
Averaged Test Recall: 0.7812
Averaged Test F1-Score: 0.7537
Std Test Accuracy: 0.0761
Std Test AUC: 0.0520
------------------------- time cost ------------------------- 7.366790294647217

Best accuracy.
0.7864

Average time cost per round.
6.509348921775818
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 659.76秒
