实验: Uci_label_skew_sign_flip_Krum_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-24 21:37:45
命令: /miniconda3/bin/python flcore/main.py -data Uci -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity label_skew --enable_attack True --attack_mode sign_flip --malicious_ratio 0.3 --defense_mode krum --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Uci
  heterogeneity: label_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: sign_flip
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: krum
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Uci, 特征维度: 23
模型参数量: 189,330

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.6905
Averaged Test Accuracy: 0.5856
Averaged Test AUC: 0.5178
Averaged Test Precision: 0.6416
Averaged Test Recall: 0.5856
Averaged Test F1-Score: 0.5989
Std Test Accuracy: 0.1062
Std Test AUC: 0.0476
------------------------- time cost ------------------------- 7.434471368789673
------------------------- time cost ------------------------- 6.4028074741363525
------------------------- time cost ------------------------- 6.214159727096558
------------------------- time cost ------------------------- 6.400265455245972
------------------------- time cost ------------------------- 6.49063777923584
------------------------- time cost ------------------------- 6.327022552490234
------------------------- time cost ------------------------- 6.286751747131348
------------------------- time cost ------------------------- 6.314065456390381
------------------------- time cost ------------------------- 6.3422441482543945
------------------------- time cost ------------------------- 6.254301309585571

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.4949
Averaged Test Accuracy: 0.7401
Averaged Test AUC: 0.7416
Averaged Test Precision: 0.7034
Averaged Test Recall: 0.7401
Averaged Test F1-Score: 0.6463
Std Test Accuracy: 0.1005
Std Test AUC: 0.0613
------------------------- time cost ------------------------- 7.274412393569946
------------------------- time cost ------------------------- 6.319184303283691
------------------------- time cost ------------------------- 6.419818639755249
------------------------- time cost ------------------------- 6.25568413734436
------------------------- time cost ------------------------- 6.395286560058594
------------------------- time cost ------------------------- 6.398341178894043
------------------------- time cost ------------------------- 6.338585138320923
------------------------- time cost ------------------------- 6.404419183731079
------------------------- time cost ------------------------- 6.3627095222473145
------------------------- time cost ------------------------- 6.2034478187561035

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.4747
Averaged Test Accuracy: 0.7761
Averaged Test AUC: 0.7548
Averaged Test Precision: 0.7735
Averaged Test Recall: 0.7761
Averaged Test F1-Score: 0.7388
Std Test Accuracy: 0.0834
Std Test AUC: 0.0604
------------------------- time cost ------------------------- 7.22135329246521
------------------------- time cost ------------------------- 6.2546069622039795
------------------------- time cost ------------------------- 6.30500602722168
------------------------- time cost ------------------------- 6.377642631530762
------------------------- time cost ------------------------- 6.350089073181152
------------------------- time cost ------------------------- 6.48088526725769
------------------------- time cost ------------------------- 6.25599479675293
------------------------- time cost ------------------------- 6.346258640289307
------------------------- time cost ------------------------- 6.350446701049805
------------------------- time cost ------------------------- 6.2590272426605225

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.4714
Averaged Test Accuracy: 0.7788
Averaged Test AUC: 0.7606
Averaged Test Precision: 0.7757
Averaged Test Recall: 0.7788
Averaged Test F1-Score: 0.7457
Std Test Accuracy: 0.0800
Std Test AUC: 0.0595
------------------------- time cost ------------------------- 7.207876682281494
------------------------- time cost ------------------------- 6.282147645950317
------------------------- time cost ------------------------- 6.243277549743652
------------------------- time cost ------------------------- 6.2110395431518555
------------------------- time cost ------------------------- 6.354341506958008
------------------------- time cost ------------------------- 6.233357667922974
------------------------- time cost ------------------------- 6.564497947692871
------------------------- time cost ------------------------- 6.34524941444397
------------------------- time cost ------------------------- 6.363098621368408
------------------------- time cost ------------------------- 6.2943150997161865

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.4702
Averaged Test Accuracy: 0.7788
Averaged Test AUC: 0.7646
Averaged Test Precision: 0.7734
Averaged Test Recall: 0.7788
Averaged Test F1-Score: 0.7494
Std Test Accuracy: 0.0750
Std Test AUC: 0.0582
------------------------- time cost ------------------------- 7.231290340423584
------------------------- time cost ------------------------- 6.203591823577881
------------------------- time cost ------------------------- 6.340971231460571
------------------------- time cost ------------------------- 6.211231470108032
------------------------- time cost ------------------------- 6.260194778442383
------------------------- time cost ------------------------- 6.506307601928711
------------------------- time cost ------------------------- 6.4948015213012695
------------------------- time cost ------------------------- 6.413628101348877
------------------------- time cost ------------------------- 6.424731016159058
------------------------- time cost ------------------------- 6.332306861877441

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.4693
Averaged Test Accuracy: 0.7801
Averaged Test AUC: 0.7673
Averaged Test Precision: 0.7757
Averaged Test Recall: 0.7801
Averaged Test F1-Score: 0.7506
Std Test Accuracy: 0.0766
Std Test AUC: 0.0566
------------------------- time cost ------------------------- 7.28481650352478
------------------------- time cost ------------------------- 6.2936646938323975
------------------------- time cost ------------------------- 6.300921678543091
------------------------- time cost ------------------------- 6.269839286804199
------------------------- time cost ------------------------- 6.272635221481323
------------------------- time cost ------------------------- 6.237281560897827
------------------------- time cost ------------------------- 6.535157680511475
------------------------- time cost ------------------------- 6.578393220901489
------------------------- time cost ------------------------- 6.428193092346191
------------------------- time cost ------------------------- 6.250159502029419

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.4682
Averaged Test Accuracy: 0.7856
Averaged Test AUC: 0.7682
Averaged Test Precision: 0.7800
Averaged Test Recall: 0.7856
Averaged Test F1-Score: 0.7596
Std Test Accuracy: 0.0686
Std Test AUC: 0.0561
------------------------- time cost ------------------------- 7.223516464233398
------------------------- time cost ------------------------- 6.3138017654418945
------------------------- time cost ------------------------- 6.319471597671509
------------------------- time cost ------------------------- 6.217466831207275
------------------------- time cost ------------------------- 6.390020370483398
------------------------- time cost ------------------------- 6.2263877391815186
------------------------- time cost ------------------------- 6.443580389022827
------------------------- time cost ------------------------- 6.590544939041138
------------------------- time cost ------------------------- 6.367227792739868
------------------------- time cost ------------------------- 6.279422998428345

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.4680
Averaged Test Accuracy: 0.7851
Averaged Test AUC: 0.7703
Averaged Test Precision: 0.7788
Averaged Test Recall: 0.7851
Averaged Test F1-Score: 0.7587
Std Test Accuracy: 0.0681
Std Test AUC: 0.0544
------------------------- time cost ------------------------- 7.350043296813965
------------------------- time cost ------------------------- 6.253775358200073
------------------------- time cost ------------------------- 6.208085775375366
------------------------- time cost ------------------------- 6.200035333633423
------------------------- time cost ------------------------- 6.296940565109253
------------------------- time cost ------------------------- 6.13588809967041
------------------------- time cost ------------------------- 6.346570730209351
------------------------- time cost ------------------------- 6.378842115402222
------------------------- time cost ------------------------- 6.597357749938965
------------------------- time cost ------------------------- 6.2842347621917725

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.4682
Averaged Test Accuracy: 0.7796
Averaged Test AUC: 0.7711
Averaged Test Precision: 0.7775
Averaged Test Recall: 0.7796
Averaged Test F1-Score: 0.7502
Std Test Accuracy: 0.0753
Std Test AUC: 0.0537
------------------------- time cost ------------------------- 7.322504758834839
------------------------- time cost ------------------------- 6.3023927211761475
------------------------- time cost ------------------------- 6.231752395629883
------------------------- time cost ------------------------- 6.266391277313232
------------------------- time cost ------------------------- 6.314098596572876
------------------------- time cost ------------------------- 6.244974613189697
------------------------- time cost ------------------------- 6.418960332870483
------------------------- time cost ------------------------- 6.3706371784210205
------------------------- time cost ------------------------- 6.499100208282471
------------------------- time cost ------------------------- 6.328760862350464

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.4664
Averaged Test Accuracy: 0.7861
Averaged Test AUC: 0.7725
Averaged Test Precision: 0.7794
Averaged Test Recall: 0.7861
Averaged Test F1-Score: 0.7627
Std Test Accuracy: 0.0655
Std Test AUC: 0.0526
------------------------- time cost ------------------------- 7.309321880340576
------------------------- time cost ------------------------- 6.30728816986084
------------------------- time cost ------------------------- 6.461448431015015
------------------------- time cost ------------------------- 6.203748464584351
------------------------- time cost ------------------------- 6.149320602416992
------------------------- time cost ------------------------- 5.927497386932373
------------------------- time cost ------------------------- 6.107571840286255
------------------------- time cost ------------------------- 6.5864098072052
------------------------- time cost ------------------------- 6.195996522903442
------------------------- time cost ------------------------- 6.061163425445557

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.4653
Averaged Test Accuracy: 0.7840
Averaged Test AUC: 0.7730
Averaged Test Precision: 0.7790
Averaged Test Recall: 0.7840
Averaged Test F1-Score: 0.7570
Std Test Accuracy: 0.0713
Std Test AUC: 0.0522
------------------------- time cost ------------------------- 7.4156200885772705

Best accuracy.
0.7861333333333334

Average time cost per round.
6.420229482650757
File path: results/Uci_FedAvg_test/Uci_FedAvg_test_0.h5
Training process CSV file path: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv
Training process data saved to: results/Uci_FedAvg_test/Uci_FedAvg_test_0_training_process.csv

平均训练时间: 650.69秒
