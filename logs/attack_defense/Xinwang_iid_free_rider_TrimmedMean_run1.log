实验: Xinwang_iid_free_rider_TrimmedMean_run1
物理GPU ID: 1
CUDA_VISIBLE_DEVICES: 1
时间: 2026-01-25 00:57:40
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity iid --enable_attack True --attack_mode free_rider --malicious_ratio 0.3 --defense_mode trimmed_mean --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=1
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: iid
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: free_rider
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: trimmed_mean
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 6.419133186340332
------------------------- time cost ------------------------- 5.3299665451049805
------------------------- time cost ------------------------- 5.0937981605529785
------------------------- time cost ------------------------- 5.296497344970703
------------------------- time cost ------------------------- 5.438832759857178
------------------------- time cost ------------------------- 5.399324178695679
------------------------- time cost ------------------------- 5.681787014007568
------------------------- time cost ------------------------- 5.358370065689087
------------------------- time cost ------------------------- 5.273294448852539
------------------------- time cost ------------------------- 5.44855523109436

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3454
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5575
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1493
------------------------- time cost ------------------------- 6.263003826141357
------------------------- time cost ------------------------- 5.557708978652954
------------------------- time cost ------------------------- 5.5929083824157715
------------------------- time cost ------------------------- 5.348987579345703
------------------------- time cost ------------------------- 5.301961898803711
------------------------- time cost ------------------------- 5.3519346714019775
------------------------- time cost ------------------------- 5.61835789680481
------------------------- time cost ------------------------- 5.430997133255005
------------------------- time cost ------------------------- 5.440906524658203
------------------------- time cost ------------------------- 5.433125972747803

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3354
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6113
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1004
------------------------- time cost ------------------------- 6.174471139907837
------------------------- time cost ------------------------- 5.494480848312378
------------------------- time cost ------------------------- 5.385062217712402
------------------------- time cost ------------------------- 5.334008455276489
------------------------- time cost ------------------------- 5.427762746810913
------------------------- time cost ------------------------- 5.295811653137207
------------------------- time cost ------------------------- 5.479956865310669
------------------------- time cost ------------------------- 5.438439607620239
------------------------- time cost ------------------------- 5.478538513183594
------------------------- time cost ------------------------- 5.422509670257568

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3353
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6574
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0637
------------------------- time cost ------------------------- 6.261908292770386
------------------------- time cost ------------------------- 5.506717205047607
------------------------- time cost ------------------------- 5.466641187667847
------------------------- time cost ------------------------- 5.326069355010986
------------------------- time cost ------------------------- 5.3170459270477295
------------------------- time cost ------------------------- 5.329897165298462
------------------------- time cost ------------------------- 5.446532964706421
------------------------- time cost ------------------------- 5.44268536567688
------------------------- time cost ------------------------- 5.460910320281982
------------------------- time cost ------------------------- 5.575125455856323

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3357
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7069
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0617
------------------------- time cost ------------------------- 6.236626625061035
------------------------- time cost ------------------------- 5.378212928771973
------------------------- time cost ------------------------- 5.384058475494385
------------------------- time cost ------------------------- 5.334272384643555
------------------------- time cost ------------------------- 5.310152769088745
------------------------- time cost ------------------------- 5.465157985687256
------------------------- time cost ------------------------- 5.390014886856079
------------------------- time cost ------------------------- 5.41362738609314
------------------------- time cost ------------------------- 5.53039288520813
------------------------- time cost ------------------------- 5.441225528717041

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3354
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7330
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0528
------------------------- time cost ------------------------- 6.326006174087524
------------------------- time cost ------------------------- 5.470207214355469
------------------------- time cost ------------------------- 5.413339138031006
------------------------- time cost ------------------------- 5.477660417556763
------------------------- time cost ------------------------- 5.430501461029053
------------------------- time cost ------------------------- 5.39614462852478
------------------------- time cost ------------------------- 5.488641023635864
------------------------- time cost ------------------------- 5.454861640930176
------------------------- time cost ------------------------- 5.396391868591309
------------------------- time cost ------------------------- 5.34156060218811

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3353
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7540
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0618
------------------------- time cost ------------------------- 6.243356227874756
------------------------- time cost ------------------------- 5.413816452026367
------------------------- time cost ------------------------- 5.489854097366333
------------------------- time cost ------------------------- 5.403070688247681
------------------------- time cost ------------------------- 5.443468332290649
------------------------- time cost ------------------------- 5.336504220962524
------------------------- time cost ------------------------- 5.5490500926971436
------------------------- time cost ------------------------- 5.424900054931641
------------------------- time cost ------------------------- 5.476413249969482
------------------------- time cost ------------------------- 5.462167501449585

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3360
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7753
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0696
------------------------- time cost ------------------------- 6.180604934692383
------------------------- time cost ------------------------- 5.398744344711304
------------------------- time cost ------------------------- 5.473259687423706
------------------------- time cost ------------------------- 5.43523907661438
------------------------- time cost ------------------------- 5.418027639389038
------------------------- time cost ------------------------- 5.5230066776275635
------------------------- time cost ------------------------- 5.61678671836853
------------------------- time cost ------------------------- 5.449264287948608
------------------------- time cost ------------------------- 5.57177734375
------------------------- time cost ------------------------- 5.40718150138855

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3336
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7868
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0661
------------------------- time cost ------------------------- 6.125910043716431
------------------------- time cost ------------------------- 5.46162223815918
------------------------- time cost ------------------------- 5.386443376541138
------------------------- time cost ------------------------- 5.605664253234863
------------------------- time cost ------------------------- 5.429234504699707
------------------------- time cost ------------------------- 5.369945287704468
------------------------- time cost ------------------------- 5.453932046890259
------------------------- time cost ------------------------- 5.431833028793335
------------------------- time cost ------------------------- 5.4470460414886475
------------------------- time cost ------------------------- 5.50586462020874

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3341
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8062
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0627
------------------------- time cost ------------------------- 6.298186779022217
------------------------- time cost ------------------------- 5.527572154998779
------------------------- time cost ------------------------- 5.407895088195801
------------------------- time cost ------------------------- 5.353218078613281
------------------------- time cost ------------------------- 5.378747940063477
------------------------- time cost ------------------------- 5.453769683837891
------------------------- time cost ------------------------- 5.387929916381836
------------------------- time cost ------------------------- 5.2923853397369385
------------------------- time cost ------------------------- 5.294095039367676
------------------------- time cost ------------------------- 5.161814451217651

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3321
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8257
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0608
------------------------- time cost ------------------------- 6.247180223464966

Best accuracy.
0.9147651006711409

Average time cost per round.
5.505407328605652
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 558.37秒
