实验: Xinwang_quantity_skew_scale_Bulyan_run1
物理GPU ID: 2
CUDA_VISIBLE_DEVICES: 2
时间: 2026-01-25 01:56:10
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity quantity_skew --enable_attack True --attack_mode scale --malicious_ratio 0.3 --defense_mode bulyan --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=2
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: quantity_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: scale
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: bulyan
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 6.51253604888916
------------------------- time cost ------------------------- 5.641029357910156
------------------------- time cost ------------------------- 5.643674850463867
------------------------- time cost ------------------------- 5.591759443283081
------------------------- time cost ------------------------- 5.534244060516357
------------------------- time cost ------------------------- 5.647877216339111
------------------------- time cost ------------------------- 5.499549388885498
------------------------- time cost ------------------------- 5.548706293106079
------------------------- time cost ------------------------- 5.456913471221924
------------------------- time cost ------------------------- 5.500732421875

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3486
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5739
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1155
------------------------- time cost ------------------------- 6.356248140335083
------------------------- time cost ------------------------- 5.752659320831299
------------------------- time cost ------------------------- 5.643598794937134
------------------------- time cost ------------------------- 5.655728816986084
------------------------- time cost ------------------------- 5.522047758102417
------------------------- time cost ------------------------- 5.559056997299194
------------------------- time cost ------------------------- 5.57440710067749
------------------------- time cost ------------------------- 5.439417600631714
------------------------- time cost ------------------------- 5.409851789474487
------------------------- time cost ------------------------- 5.53653883934021

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3392
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6139
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0940
------------------------- time cost ------------------------- 6.319817543029785
------------------------- time cost ------------------------- 5.610067844390869
------------------------- time cost ------------------------- 5.5759992599487305
------------------------- time cost ------------------------- 5.607859134674072
------------------------- time cost ------------------------- 5.62557053565979
------------------------- time cost ------------------------- 5.48972225189209
------------------------- time cost ------------------------- 5.510064125061035
------------------------- time cost ------------------------- 5.418277263641357
------------------------- time cost ------------------------- 5.419353723526001
------------------------- time cost ------------------------- 5.598788261413574

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3358
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6406
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0705
------------------------- time cost ------------------------- 6.565073728561401
------------------------- time cost ------------------------- 5.431674242019653
------------------------- time cost ------------------------- 5.5952537059783936
------------------------- time cost ------------------------- 5.582219123840332
------------------------- time cost ------------------------- 5.6878111362457275
------------------------- time cost ------------------------- 5.661848306655884
------------------------- time cost ------------------------- 5.4518208503723145
------------------------- time cost ------------------------- 5.486315965652466
------------------------- time cost ------------------------- 5.530129432678223
------------------------- time cost ------------------------- 5.6023595333099365

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3363
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6992
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0545
------------------------- time cost ------------------------- 6.412993431091309
------------------------- time cost ------------------------- 5.536304712295532
------------------------- time cost ------------------------- 5.5978617668151855
------------------------- time cost ------------------------- 5.625666618347168
------------------------- time cost ------------------------- 5.486677408218384
------------------------- time cost ------------------------- 5.548750400543213
------------------------- time cost ------------------------- 5.490393877029419
------------------------- time cost ------------------------- 5.462117433547974
------------------------- time cost ------------------------- 5.435714960098267
------------------------- time cost ------------------------- 5.640725612640381

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3378
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7301
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0576
------------------------- time cost ------------------------- 6.288168430328369
------------------------- time cost ------------------------- 5.443395614624023
------------------------- time cost ------------------------- 5.551723480224609
------------------------- time cost ------------------------- 5.742922306060791
------------------------- time cost ------------------------- 5.48519229888916
------------------------- time cost ------------------------- 5.39091682434082
------------------------- time cost ------------------------- 5.644815683364868
------------------------- time cost ------------------------- 5.381657600402832
------------------------- time cost ------------------------- 5.482481479644775
------------------------- time cost ------------------------- 5.452163934707642

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3361
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7510
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0564
------------------------- time cost ------------------------- 6.283330202102661
------------------------- time cost ------------------------- 5.558290958404541
------------------------- time cost ------------------------- 5.672424077987671
------------------------- time cost ------------------------- 5.6044957637786865
------------------------- time cost ------------------------- 5.586121082305908
------------------------- time cost ------------------------- 5.483890771865845
------------------------- time cost ------------------------- 5.501347303390503
------------------------- time cost ------------------------- 5.509871244430542
------------------------- time cost ------------------------- 5.52807879447937
------------------------- time cost ------------------------- 5.572900056838989

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3365
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7666
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0627
------------------------- time cost ------------------------- 6.25502610206604
------------------------- time cost ------------------------- 5.330400705337524
------------------------- time cost ------------------------- 5.56718635559082
------------------------- time cost ------------------------- 5.595545530319214
------------------------- time cost ------------------------- 5.506344795227051
------------------------- time cost ------------------------- 5.684682607650757
------------------------- time cost ------------------------- 5.641683578491211
------------------------- time cost ------------------------- 5.586766242980957
------------------------- time cost ------------------------- 5.435049057006836
------------------------- time cost ------------------------- 5.583097696304321

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3359
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7868
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0658
------------------------- time cost ------------------------- 6.035281419754028
------------------------- time cost ------------------------- 5.605930328369141
------------------------- time cost ------------------------- 5.279334783554077
------------------------- time cost ------------------------- 5.46049165725708
------------------------- time cost ------------------------- 5.56787371635437
------------------------- time cost ------------------------- 5.874768018722534
------------------------- time cost ------------------------- 5.6816205978393555
------------------------- time cost ------------------------- 5.455554008483887
------------------------- time cost ------------------------- 5.484139680862427
------------------------- time cost ------------------------- 5.501933336257935

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3358
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7952
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0630
------------------------- time cost ------------------------- 6.596609115600586
------------------------- time cost ------------------------- 5.68718409538269
------------------------- time cost ------------------------- 5.640989065170288
------------------------- time cost ------------------------- 5.527495384216309
------------------------- time cost ------------------------- 5.711064338684082
------------------------- time cost ------------------------- 5.471861362457275
------------------------- time cost ------------------------- 5.650493621826172
------------------------- time cost ------------------------- 5.471130847930908
------------------------- time cost ------------------------- 5.573376178741455
------------------------- time cost ------------------------- 5.598151445388794

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3343
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8116
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0500
------------------------- time cost ------------------------- 6.493884325027466

Best accuracy.
0.9147651006711409

Average time cost per round.
5.632404117584229
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 571.18秒
