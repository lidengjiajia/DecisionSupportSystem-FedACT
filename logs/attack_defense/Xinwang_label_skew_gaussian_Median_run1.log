实验: Xinwang_label_skew_gaussian_Median_run1
物理GPU ID: 4
CUDA_VISIBLE_DEVICES: 4
时间: 2026-01-25 01:07:20
命令: /miniconda3/bin/python flcore/main.py -data Xinwang -algo FedAvg -nc 10 -gr 100 -ls 5 -lbs 64 -lr 0.01 -eg 10 -t 1 --heterogeneity label_skew --enable_attack True --attack_mode gaussian --malicious_ratio 0.3 --defense_mode median --use_tlbo False --tlbo_iterations 10 --use_autoencoder False --use_committee False
工作目录: /root/DecisionSupportSystem-FedACT/system

[GPU] 使用环境变量指定的GPU: CUDA_VISIBLE_DEVICES=4
============================================================
实验配置:
============================================================
  goal: test
  device: cuda
  device_id: 0
  dataset: Xinwang
  heterogeneity: label_skew
  model: auto
  num_classes: 2
  batch_size: 64
  local_learning_rate: 0.01
  global_rounds: 100
  local_epochs: 5
  algorithm: FedAvg
  num_clients: 10
  join_ratio: 1.0
  random_join_ratio: False
  prev: 0
  times: 1
  eval_gap: 10
  save_folder_name: results
  learning_rate_decay: False
  learning_rate_decay_gamma: 0.99
  few_shot: 0
  time_select: False
  time_threthold: 10000
  top_cnt: 100
  auto_break: False
  client_drop_rate: 0.0
  train_slow_rate: 0.0
  send_slow_rate: 0.0
  dlg_eval: False
  dlg_gap: 100
  batch_num_per_client: 2
  num_new_clients: 0
  fine_tuning_epoch_new: 0
  mu: 0.01
  beta: 0.0
  lamda: 1.0
  tau: 1.0
  plocal_epochs: 1
  server_learning_rate: 1.0
  enable_attack: True
  attack_mode: gaussian
  malicious_ratio: 0.3
  attack_scale: 3.0
  defense_mode: median
  use_autoencoder: False
  autoencoder_latent_dim: 64
  autoencoder_epochs: 20
  committee_size: 5
  vote_threshold: 0.5
  anomaly_threshold: 0.5
  anomaly_lower_coef: 0.7
  anomaly_upper_coef: 1.5
  use_committee: False
  tlbo_iterations: 10
  use_tlbo: False
  use_merkle: True
  use_incentive: True
============================================================

============= 第 1 次实验 =============
正在初始化服务器和客户端...
数据集: Xinwang, 特征维度: 38
模型参数量: 921,634

Join ratio / total clients: 1.0 / 10
Finished creating server and clients.

-------------Round number: 0-------------

Evaluate global model
Averaged Train Loss: 0.5754
Averaged Test Accuracy: 0.8826
Averaged Test AUC: 0.5676
Averaged Test Precision: 0.8560
Averaged Test Recall: 0.8826
Averaged Test F1-Score: 0.8646
Std Test Accuracy: 0.0776
Std Test AUC: 0.1101
------------------------- time cost ------------------------- 6.553524494171143
------------------------- time cost ------------------------- 5.426209926605225
------------------------- time cost ------------------------- 5.512615203857422
------------------------- time cost ------------------------- 5.250064134597778
------------------------- time cost ------------------------- 5.343218564987183
------------------------- time cost ------------------------- 5.50116229057312
------------------------- time cost ------------------------- 5.5159547328948975
------------------------- time cost ------------------------- 5.376912593841553
------------------------- time cost ------------------------- 5.526292085647583
------------------------- time cost ------------------------- 5.46860146522522

-------------Round number: 10-------------

Evaluate global model
Averaged Train Loss: 0.3474
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.5741
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1369
------------------------- time cost ------------------------- 6.318483829498291
------------------------- time cost ------------------------- 5.6428093910217285
------------------------- time cost ------------------------- 5.314558744430542
------------------------- time cost ------------------------- 5.397000074386597
------------------------- time cost ------------------------- 5.511394262313843
------------------------- time cost ------------------------- 5.488627910614014
------------------------- time cost ------------------------- 5.658767938613892
------------------------- time cost ------------------------- 5.486769676208496
------------------------- time cost ------------------------- 5.467165946960449
------------------------- time cost ------------------------- 5.158364772796631

-------------Round number: 20-------------

Evaluate global model
Averaged Train Loss: 0.3386
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6263
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.1090
------------------------- time cost ------------------------- 6.15105938911438
------------------------- time cost ------------------------- 5.580921173095703
------------------------- time cost ------------------------- 5.426448583602905
------------------------- time cost ------------------------- 5.526599884033203
------------------------- time cost ------------------------- 5.431102991104126
------------------------- time cost ------------------------- 5.507171630859375
------------------------- time cost ------------------------- 5.48745584487915
------------------------- time cost ------------------------- 5.439647197723389
------------------------- time cost ------------------------- 5.474362373352051
------------------------- time cost ------------------------- 5.311781406402588

-------------Round number: 30-------------

Evaluate global model
Averaged Train Loss: 0.3346
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.6890
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0654
------------------------- time cost ------------------------- 6.174828767776489
------------------------- time cost ------------------------- 5.366260290145874
------------------------- time cost ------------------------- 5.417586326599121
------------------------- time cost ------------------------- 5.385711193084717
------------------------- time cost ------------------------- 5.488744735717773
------------------------- time cost ------------------------- 5.4399964809417725
------------------------- time cost ------------------------- 5.426832437515259
------------------------- time cost ------------------------- 5.341067552566528
------------------------- time cost ------------------------- 5.430818796157837
------------------------- time cost ------------------------- 5.673225402832031

-------------Round number: 40-------------

Evaluate global model
Averaged Train Loss: 0.3352
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7080
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0546
------------------------- time cost ------------------------- 6.1369194984436035
------------------------- time cost ------------------------- 5.523447275161743
------------------------- time cost ------------------------- 5.30195689201355
------------------------- time cost ------------------------- 5.368981122970581
------------------------- time cost ------------------------- 5.365890741348267
------------------------- time cost ------------------------- 5.408304691314697
------------------------- time cost ------------------------- 5.590368747711182
------------------------- time cost ------------------------- 5.574340105056763
------------------------- time cost ------------------------- 5.391303062438965
------------------------- time cost ------------------------- 5.542200565338135

-------------Round number: 50-------------

Evaluate global model
Averaged Train Loss: 0.3356
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7418
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0674
------------------------- time cost ------------------------- 6.280009984970093
------------------------- time cost ------------------------- 5.516958713531494
------------------------- time cost ------------------------- 5.392297029495239
------------------------- time cost ------------------------- 5.456729173660278
------------------------- time cost ------------------------- 5.396802186965942
------------------------- time cost ------------------------- 5.545921087265015
------------------------- time cost ------------------------- 5.627578020095825
------------------------- time cost ------------------------- 5.389724016189575
------------------------- time cost ------------------------- 5.291258096694946
------------------------- time cost ------------------------- 5.494830369949341

-------------Round number: 60-------------

Evaluate global model
Averaged Train Loss: 0.3360
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7579
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0638
------------------------- time cost ------------------------- 6.432538270950317
------------------------- time cost ------------------------- 5.412124872207642
------------------------- time cost ------------------------- 5.333266735076904
------------------------- time cost ------------------------- 5.473593473434448
------------------------- time cost ------------------------- 5.522354602813721
------------------------- time cost ------------------------- 5.578025579452515
------------------------- time cost ------------------------- 5.559069871902466
------------------------- time cost ------------------------- 5.480756521224976
------------------------- time cost ------------------------- 5.343716144561768
------------------------- time cost ------------------------- 5.494373559951782

-------------Round number: 70-------------

Evaluate global model
Averaged Train Loss: 0.3361
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7815
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0754
------------------------- time cost ------------------------- 6.21013617515564
------------------------- time cost ------------------------- 5.4436914920806885
------------------------- time cost ------------------------- 5.49970817565918
------------------------- time cost ------------------------- 5.404622793197632
------------------------- time cost ------------------------- 5.418096303939819
------------------------- time cost ------------------------- 5.57043194770813
------------------------- time cost ------------------------- 5.542292594909668
------------------------- time cost ------------------------- 5.4548609256744385
------------------------- time cost ------------------------- 5.311549425125122
------------------------- time cost ------------------------- 5.494492292404175

-------------Round number: 80-------------

Evaluate global model
Averaged Train Loss: 0.3361
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.7921
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0728
------------------------- time cost ------------------------- 6.27993631362915
------------------------- time cost ------------------------- 5.4581098556518555
------------------------- time cost ------------------------- 5.337960481643677
------------------------- time cost ------------------------- 5.472443103790283
------------------------- time cost ------------------------- 5.502178430557251
------------------------- time cost ------------------------- 5.56432318687439
------------------------- time cost ------------------------- 5.5127480030059814
------------------------- time cost ------------------------- 5.441954612731934
------------------------- time cost ------------------------- 5.426124572753906
------------------------- time cost ------------------------- 5.416912078857422

-------------Round number: 90-------------

Evaluate global model
Averaged Train Loss: 0.3340
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8129
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0708
------------------------- time cost ------------------------- 6.2002997398376465
------------------------- time cost ------------------------- 5.405027627944946
------------------------- time cost ------------------------- 5.494427442550659
------------------------- time cost ------------------------- 5.4603025913238525
------------------------- time cost ------------------------- 5.396692991256714
------------------------- time cost ------------------------- 5.40337610244751
------------------------- time cost ------------------------- 5.572695732116699
------------------------- time cost ------------------------- 5.57292366027832
------------------------- time cost ------------------------- 5.699857234954834
------------------------- time cost ------------------------- 5.855974435806274

-------------Round number: 100-------------

Evaluate global model
Averaged Train Loss: 0.3314
Averaged Test Accuracy: 0.9148
Averaged Test AUC: 0.8249
Averaged Test Precision: 0.8385
Averaged Test Recall: 0.9148
Averaged Test F1-Score: 0.8746
Std Test Accuracy: 0.0416
Std Test AUC: 0.0660
------------------------- time cost ------------------------- 7.238154172897339

Best accuracy.
0.9147651006711409

Average time cost per round.
5.551345415115357
File path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0.h5
Training process CSV file path: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv
Training process data saved to: results/Xinwang_FedAvg_test/Xinwang_FedAvg_test_0_training_process.csv

平均训练时间: 563.08秒
